import { VStack } from "@chakra-ui/react";
import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import StatusBadge from "./StatusBadge";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("StatusBadge")}
  component={StatusBadge}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=11256%3A0",
    },
    jest: ["StatusBadge.test.tsx"],
  }}
  argTypes={{
    className: { control: false },
    id: { control: false },
    level: {
      table: { defaultValue: { summary: "low" } },
    },
    text: {
      description: "Only used for Storybook",
    },
  }}
/>

# StatusBadge

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.18.7`   |
| Latest            | `0.28.0`   |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [Patterns](#patterns)

## Overview

<Description of={StatusBadge} />

## Component Props

<Canvas withToolbar>
  <Story
    name="StatusBadge"
    args={{
      className: undefined,
      id: "statusBadge-id",
      level: "low",
      text: "Registration Required",
    }}
  >
    {(args) => <StatusBadge level={args.level}>{args.text}</StatusBadge>}
  </Story>
</Canvas>

<ArgsTable story="StatusBadge" />

## Accessibility

The visual aspect of the `StatusBadge` component displays three different status
levels through the use of three different colors. It is important to assign
the appropriate text so that the user can understand the priority level of the
`StatusBadge`, and not rely just on the color.

## Patterns

### Higher Barrier

Used in instances where the associated message is the highest barrier. Use
`"high"` and `"medium"` for these levels.

<Canvas>
  <DSProvider>
    <VStack spacing="s" align="stretch">
      <StatusBadge level="high">On-Site Access Only</StatusBadge>
      <StatusBadge level="medium">Cancelled</StatusBadge>
    </VStack>
  </DSProvider>
</Canvas>

### Lower Barrier

Used in instances where the associated message is the lower barrier. Use
`"low"` for this level which is the default.

<Canvas>
  <DSProvider>
    <VStack spacing="s" align="stretch">
      <StatusBadge>Library Card Required</StatusBadge>
      <StatusBadge>Registration Required</StatusBadge>
    </VStack>
  </DSProvider>
</Canvas>
