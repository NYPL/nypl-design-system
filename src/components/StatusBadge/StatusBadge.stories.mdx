import { VStack } from "@chakra-ui/react";
import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import StatusBadge from "./StatusBadge";
import { StatusBadgeTypes } from "./StatusBadgeTypes";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";
import { getStorybookEnumValues } from "../../utils/utils";

export const enumValues = getStorybookEnumValues(
  StatusBadgeTypes,
  "StatusBadgeTypes"
);

<Meta
  title={getCategory("StatusBadge")}
  component={StatusBadge}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url:
        "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=11256%3A0",
    },
    jest: ["StatusBadge.test.tsx"],
  }}
  argTypes={{
    className: { control: { type: null } },
    id: { control: { type: null } },
    level: {
      control: {
        type: "select",
      },
      table: {
        defaultValue: { summary: "StatusBadgeTypes.Low" },
      },
      options: enumValues.options,
    },
    text: {
      description: "Only used for Storybook",
    },
  }}
/>

# StatusBadge

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.18.7`   |
| Latest            | `0.25.1`   |

<Description of={StatusBadge} />

<Canvas withToolbar>
  <Story
    name="Basic with Controls"
    args={{ level: "StatusBadgeTypes.Low", text: "Registration Required" }}
  >
    {(args) => (
      <StatusBadge level={enumValues.getValue(args.level)}>
        {args.text}
      </StatusBadge>
    )}
  </Story>
</Canvas>

<ArgsTable story="Basic with Controls" />

## Patterns

### Higher Barrier

Used in instances where the associated message is the highest barrier. Use
`"high"` and `"medium"` for these levels.

<Canvas>
  <DSProvider>
    <VStack spacing="s" align="stretch">
      <StatusBadge level={StatusBadgeTypes.High}>
        On-Site Access Only
      </StatusBadge>
      <StatusBadge level={StatusBadgeTypes.Medium}>Cancelled</StatusBadge>
    </VStack>
  </DSProvider>
</Canvas>

### Lower Barrier

Used in instances where the associated message is the lower barrier. Use
`"low"` for this level which is the default.

<Canvas>
  <DSProvider>
    <VStack spacing="s" align="stretch">
      <StatusBadge>Library Card Required</StatusBadge>
      <StatusBadge>Registration Required</StatusBadge>
    </VStack>
  </DSProvider>
</Canvas>
