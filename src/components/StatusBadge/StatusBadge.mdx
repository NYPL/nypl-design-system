import { ArgTypes, Canvas, Description, Meta, Source } from "@storybook/blocks";
import * as StatusBadgeStories from "./StatusBadge.stories";
import Link from "../Link/Link";
import { changelogData } from "./statusBadgeChangelogData";
import ComponentChangelogTable from "../../utils/ComponentChangelogTable";

<Meta of={StatusBadgeStories} />

# StatusBadge

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.18.7`   |
| Latest            | `2.0.0`    |

## Table of Contents

- {<Link href="#overview" target="_self">Overview</Link>}
- {<Link href="#component-props" target="_self">Component Props</Link>}
- {<Link href="#accessibility" target="_self">Accessibility</Link>}
- {<Link href="#patterns" target="_self">Patterns</Link>}
- {<Link href="#changelog" target="_self">Changelog</Link>}

## Overview

<Description of={StatusBadgeStories} />

## Component Props

<Canvas of={StatusBadgeStories.WithControls} />

<ArgTypes of={StatusBadgeStories.WithControls} />

## Accessibility

The visual aspect of the `StatusBadge` component displays three different status
levels through the use of three different colors. It is important to assign
the appropriate text so that the user can understand the priority level of the
`StatusBadge`, and not rely just on the color.

## Patterns

### Higher Barrier

Used in instances where the associated message is the highest barrier. Use
`"high"` and `"medium"` for these levels.

<Canvas of={StatusBadgeStories.HigherBarrier} />

### Lower Barrier

Used in instances where the associated message is the lower barrier. Use
`"low"` for this level which is the default.

<Canvas of={StatusBadgeStories.LowerBarrier} />

### Icons

You may render an icon within the `StatusBadge` by passing it as a child to the component.
If you are using an icon, you should still pass text to the badge so that the user can
understand its meaning.

You will have to pass a `margin-left` or `margin-right` to add space
between the icon and the text. The use of the design tokens (ie, `xs`) is encouraged.

<Canvas of={StatusBadgeStories.Icons} />

<Source
  code={`
// Icon first (add margin-right)

<StatusBadge level="high">
  <Icon color="brand.primary" mr="xs" name="errorFilled" size="medium" />
  On-Site Access Only
</StatusBadge>

// Icon second (add margin-left)

<StatusBadge level="low">
  Registration Required
  <Icon color="ui.black" ml="xs" name="actionIdentityFilled" size="medium" />
</StatusBadge>
`} language="jsx" />

## Changelog

<ComponentChangelogTable changelogData={changelogData} />
