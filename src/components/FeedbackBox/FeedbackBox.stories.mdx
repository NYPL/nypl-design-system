import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import FeedbackBox from "./FeedbackBox";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("FeedbackBox")}
  component={FeedbackBox}
  decorators={[withDesign]}
  parameters={{
    jest: ["FeedbackBox.test.tsx"],
  }}
  argTypes={{
    children: { table: { disable: true } },
    className: { control: false },
    id: { control: false },
    isLegendHidden: {
      table: { defaultValue: { summary: false } },
    },
    isRequired: {
      table: { defaultValue: { summary: false } },
    },
    showRequiredLabel: {
      table: { defaultValue: { summary: false } },
    },
  }}
/>

# FeedbackBox

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `1.3.0`    |
| Latest            | `1.3.0`    |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)

## Overview

<Description of={FeedbackBox} />

## Component Props

<Canvas withToolbar>
  <Story
    name="FeedbackBox with Controls"
    args={{
      className: undefined,
      id: "FeedbackBox-id",
      title: "Help and Feedback",
      descriptionText: "Please share your question or feedback.",
    }}
  >
    {(args) => <FeedbackBox {...args} />}
  </Story>
</Canvas>

<ArgsTable story="FeedbackBox with Controls" />

## Accessibility

This is a simple component but is very important to use when building web forms.
Syntactically, the `FeedbackBox` component is used to group form elements. Semantically,
the form elements that are group should have a similar theme or context. For
example, when building out a form for a user to create an account, one `FeedbackBox`
should be used to group the user's first and last names and another `FeedbackBox`
to group the user's address information.

The Reservoir DS implements the `FeedbackBox` component in the following form
components:

- `CheckboxGroup`, `DatePicker`, `RadioGroup`.

Resources:

- [W3C Grouping form controls with FeedbackBox and LEGEND](https://www.w3.org/TR/2008/WD-WCAG20-TECHS-20080430/H82.html)
- [GOV.UK Using the FeedbackBox and legend elements](https://accessibility.blog.gov.uk/2016/07/22/using-the-FeedbackBox-and-legend-elements/)
- [MDN FeedbackBox: The Field Set element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/FeedbackBox)
