import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import SimpleGrid from "./SimpleGrid";
import Card, { CardHeading, CardContent, CardActions } from "../Card/Card";
import Icon from "../Icons/Icon";
import Image from "../Image/Image";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("SimpleGrid")}
  component={SimpleGrid}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=36835%3A26613",
    },
    jest: ["SimpleGrid.test.tsx"],
  }}
  argTypes={{
    className: { control: false },
    columns: {
      control: { min: 2, type: "number" },
    },
    gap: {
      control: { type: "select" },
      table: { defaultValue: { summary: "grid.l" } },
      options: [
        "grid.xxs",
        "grid.xs",
        "grid.s",
        "grid.m",
        "grid.l",
        "grid.xl",
        "grid.xxl",
      ],
    },
    id: { control: false },
  }}
/>

# SimpleGrid

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.25.1`   |
| Latest            | `0.28.0`   |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [Other SimpleGrid Examples](#other-simplegrid-examples)

## Overview

<Description of={SimpleGrid} />

The `SimpleGrid` component is used to render UI elements in a uniform grid layout,
with the column widths and grid spacing fixed throughout the grid.

The NYPL standards for the items per row in a grid is `3` for desktop, `2` for
tablet and `1` for mobile. By default, the `SimpleGrid` component uses these
standards and the `columns` prop is optional. If the `columns` prop is used, the
tablet breakpoint will be dropped and only the mobile breakpoint (1 item per row)
will be triggered.

## Component Props

<Canvas withToolbar>
  <Story
    name="SimpleGrid with Controls"
    args={{
      className: undefined,
      columns: undefined,
      gap: "grid.l",
      id: "simpleGrid-id",
    }}
  >
    {(args) => (
      <SimpleGrid {...args}>
        <Card
          imageProps={{
            alt: "Alt text",
            aspectRatio: "twoByOne",
            src: "https://placeimg.com/400/220/animals",
          }}
        >
          <CardHeading level="three">Card Heading</CardHeading>
          <CardContent>
            Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
            libero, a pharetra augue.
          </CardContent>
        </Card>
        <Card
          imageProps={{
            alt: "Alt text",
            aspectRatio: "twoByOne",
            src: "https://placeimg.com/400/220/animals",
          }}
        >
          <CardHeading level="three">Card Heading</CardHeading>
          <CardContent>
            Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
            libero, a pharetra augue.
          </CardContent>
        </Card>
        <Card
          imageProps={{
            alt: "Alt text",
            aspectRatio: "twoByOne",
            src: "https://placeimg.com/400/240/animals",
          }}
        >
          <CardHeading level="three">Card Heading</CardHeading>
          <CardContent>
            Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
            libero, a pharetra augue.
          </CardContent>
        </Card>
        <Card
          imageProps={{
            alt: "Alt text",
            aspectRatio: "twoByOne",
            src: "https://placeimg.com/400/260/animals",
          }}
        >
          <CardHeading level="three">Card Heading</CardHeading>
          <CardContent>
            Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
            libero, a pharetra augue.
          </CardContent>
        </Card>
        <Card
          imageProps={{
            alt: "Alt text",
            aspectRatio: "twoByOne",
            src: "https://placeimg.com/400/320/animals",
          }}
        >
          <CardHeading level="three">Card Heading</CardHeading>
          <CardContent>
            Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
            libero, a pharetra augue.
          </CardContent>
        </Card>
        <Card
          imageProps={{
            alt: "Alt text",
            aspectRatio: "twoByOne",
            src: "https://placeimg.com/400/300/animals",
          }}
        >
          <CardHeading level="three">Card Heading</CardHeading>
          <CardContent>
            Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
            libero, a pharetra augue.
          </CardContent>
        </Card>
      </SimpleGrid>
    )}
  </Story>
</Canvas>

<ArgsTable story="SimpleGrid with Controls" />

## Accessibility

The CSS grid layout properties are used for the `SimpleGrid` component. We don't
recommend using property rules that change the visual order of elements on the
page that don't match with its DOM order. This is because a screenreader won't
pick up `SimpleGrid` CSS rules and will read the page in the expected DOM order
rather than the visual order.

Resources:

- [MDN CSS Grid Layout and Accessibility](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/CSS_Grid_Layout_and_Accessibility)

## Other SimpleGrid Examples

### Icons

This example is rendering `Icon` components with the `columns` prop set to `5`.

export const icons = [];
export const iconNames = [
  "accessibilityFull",
  "accessibilityPartial",
  "actionCheckCircle",
  "actionHelpDefault",
  "actionHelpOutline",
  "alertNotificationImportant",
  "actionLaunch",
  "arrow",
  "check",
  "clock",
  "close",
  "download",
  "errorFilled",
  "errorOutline",
  "fileTypeAudio",
  "fileTypeDoc",
  "fileTypeGenericDoc",
  "fileTypeImage",
  "fileTypePdf",
  "fileTypeSpreadsheet",
  "fileTypeVideo",
  "headset",
  "minus",
  "plus",
  "search",
  "speakerNotes",
  "utilityAccountFilled",
  "utilityAccountUnfilled",
  "utilityHamburger",
  "utilitySearch",
];
for (const name in iconNames) {
  const iname = `Example icon: ${iconNames[name]}`;
  const iconRender = (
    <Icon key={name} name={iconNames[name]} size="xxxlarge" title={iname} />
  );
  icons.push(iconRender);
}

<Canvas>
  <Story name="Other SimpleGrid Examples">
    <SimpleGrid columns={5}>{icons}</SimpleGrid>
  </Story>
</Canvas>

### Images

This example is rendering square `Image` components with the `columns` prop set
to `6`.

<Canvas>
  <DSProvider>
    <SimpleGrid columns={6}>
      <Image src="https://placeimg.com/300/300/animals?x=1" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=2" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=3" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=4" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=5" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=6" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=7" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=8" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=9" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=10" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=11" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=12" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=13" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=14" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=15" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=16" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=17" alt="" />
      <Image src="https://placeimg.com/300/300/animals?x=18" alt="" />
    </SimpleGrid>
  </DSProvider>
</Canvas>

### Horizontal Cards

This example is rendering horizontal `Card` components with the `columns` prop
set to `1`.

<Canvas>
  <DSProvider>
    <SimpleGrid columns={1}>
      <Card
        imageProps={{
          alt: "Alt text",
          aspectRatio: "fourByThree",
          src: "https://placeimg.com/400/200/animals",
        }}
        isBordered
        isCentered
        layout="row"
      >
        <CardHeading level="four" id="heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
      <Card
        imageProps={{
          alt: "Alt text",
          aspectRatio: "fourByThree",
          src: "https://placeimg.com/410/210/animals",
        }}
        isBordered
        isCentered
        layout="row"
      >
        <CardHeading level="four" id="heading2">
          Card Heading
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
      <Card
        imageProps={{
          alt: "Alt text",
          aspectRatio: "fourByThree",
          src: "https://placeimg.com/320/320/animals",
        }}
        isBordered
        isCentered
        layout="row"
      >
        <CardHeading level="four" id="heading3">
          Card Heading
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
    </SimpleGrid>
  </DSProvider>
</Canvas>
