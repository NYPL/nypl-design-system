import { action } from "@storybook/addon-actions";
import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import SimpleGrid from "../Grid/SimpleGrid";
import SkeletonLoader from "./SkeletonLoader";
import {
  SkeletonLoaderImageRatios,
  SkeletonLoaderLayouts,
} from "./SkeletonLoaderTypes";
import { getCategory } from "../../utils/componentCategories";
import { getStorybookEnumValues } from "../../utils/utils";

export const imageRatiosEnumValues = getStorybookEnumValues(
  SkeletonLoaderImageRatios,
  "SkeletonLoaderImageRatios"
);
export const layoutsEnumValues = getStorybookEnumValues(
  SkeletonLoaderLayouts,
  "SkeletonLoaderLayouts"
);

<Meta
  title={getCategory("SkeletonLoader")}
  component={SkeletonLoader}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url:
        "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Master?node-id=17219%3A7",
    },
    jest: ["SkeletonLoader.test.tsx"],
  }}
  argTypes={{
    border: {},
    className: { control: false },
    contentSize: { table: { defaultValue: { summary: "3" } } },
    headingSize: { table: { defaultValue: { summary: "1" } } },
    imageAspectRatio: {
      control: { type: "select" },
      table: {
        defaultValue: { summary: "SkeletonLoaderImageRatios.Square" },
      },
      options: imageRatiosEnumValues.options,
    },
    layout: {
      table: { defaultValue: { summary: "SkeletonLoaderLayouts.Column" } },
      options: layoutsEnumValues.options,
    },
    showButton: { table: { defaultValue: { summary: "false" } } },
    showContent: { table: { defaultValue: { summary: "true" } } },
    showHeading: { table: { defaultValue: { summary: "true" } } },
    showImage: { table: { defaultValue: { summary: "true" } } },
    width: {},
  }}
/>

# SkeletonLoader

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.17.3`   |
| Latest            | `0.25.3`   |

<Description of={SkeletonLoader} />

The `layout`, `width`, and placeholder elements within the `SkeletonLoader` can
be customized.

Please note that the initial rendering below has the `width` prop set to `300px`
to better view the example. The default value is `100%`.

<Canvas withToolbar>
  <Story
    name="SkeletonLoader with Controls"
    args={{
      imageAspectRatio: "SkeletonLoaderImageRatios.Square",
      layout: "SkeletonLoaderLayouts.Column",
      width: "300px",
    }}
  >
    {(args) => (
      <SkeletonLoader
        {...args}
        imageAspectRatio={imageRatiosEnumValues.getValue(args.imageAspectRatio)}
        layout={layoutsEnumValues.getValue(args.layout)}
      />
    )}
  </Story>
</Canvas>

<ArgsTable story="SkeletonLoader with Controls" />

# Card Placeholders in a Grid

<Canvas>
  <Story name="Placeholders in a Grid">
    <SimpleGrid columns={3}>
      <SkeletonLoader
        imageAspectRatio={SkeletonLoaderImageRatios.Landscape}
        border
      />
      <SkeletonLoader
        imageAspectRatio={SkeletonLoaderImageRatios.Landscape}
        border
      />
      <SkeletonLoader
        imageAspectRatio={SkeletonLoaderImageRatios.Landscape}
        border
      />
      <SkeletonLoader
        imageAspectRatio={SkeletonLoaderImageRatios.Landscape}
        border
      />
      <SkeletonLoader
        imageAspectRatio={SkeletonLoaderImageRatios.Landscape}
        border
      />
      <SkeletonLoader
        imageAspectRatio={SkeletonLoaderImageRatios.Landscape}
        border
      />
    </SimpleGrid>
  </Story>
</Canvas>

# Text Placeholders in a List

<Canvas>
  <Story name="Placeholders in a List">
    <SimpleGrid columns={1}>
      <SkeletonLoader layout={SkeletonLoaderLayouts.Row} showImage={false} />
      <SkeletonLoader layout={SkeletonLoaderLayouts.Row} showImage={false} />
      <SkeletonLoader layout={SkeletonLoaderLayouts.Row} showImage={false} />
      <SkeletonLoader layout={SkeletonLoaderLayouts.Row} showImage={false} />
      <SkeletonLoader layout={SkeletonLoaderLayouts.Row} showImage={false} />
    </SimpleGrid>
  </Story>
</Canvas>
