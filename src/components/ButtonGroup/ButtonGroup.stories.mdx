import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import Button from "../Button/Button";
import ButtonGroup from "./ButtonGroup";
import Heading from "../Heading/Heading";
import SimpleGrid from "../Grid/SimpleGrid";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("ButtonGroup")}
  component={ButtonGroup}
  decorators={[withDesign]}
  parameters={{
    jest: ["ButtonGroup.test.tsx"],
  }}
  argTypes={{
    buttonWidth: { table: { defaultValue: { summary: "default" } } },
    className: { control: false },
    id: { control: false },
    isDisabled: { table: { defaultValue: { summary: false } } },
    layout: { table: { defaultValue: { summary: "row" } } },
  }}
/>

# ButtonGroup

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.28.0`   |
| Latest            | `1.0.4`    |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [Button Width](#button-width)
- [Layout](#layout)
- [isDisabled](#isDisabled)

## Overview

<Description of={ButtonGroup} />

Note: The `ButtonGroup` component does not come from Chakra because we want to
display the `Button`s in a column layout as an option, as well as control the
width.

## Component Props

<Canvas withToolbar>
  <Story
    name="ButtonGroup with Controls"
    args={{
      buttonWidth: "default",
      className: undefined,
      id: "button-id",
      isDisabled: false,
      layout: "row",
    }}
  >
    {(args) => (
      <ButtonGroup {...args}>
        <Button buttonType="secondary" id="group-1">
          Button
        </Button>
        <Button id="group-2">Submit</Button>
      </ButtonGroup>
    )}
  </Story>
</Canvas>

<ArgsTable story="ButtonGroup with Controls" />

## Accessibility

This component is a wrapper around the `Button` component. For accessibility
information on the `Button` component, see the
[Button Accessibility](https://nypl.github.io/nypl-design-system/reservoir/v1/?path=/docs/components-form-elements-button--button-with-controls#accessibility)
documentation.

## Button Width

The `buttonWidth` prop can be used to set the width of the internal `Button`
components. The default value is `default` and it sets the width to `"fit-content"`
so the buttons will expand to its content. The `"full"` value will set the width
to the parent's width.

<Canvas>
  <DSProvider>
    <SimpleGrid columns={1}>
      <Heading level="three">default fit-content</Heading>
      <ButtonGroup>
        <Button buttonType="secondary" id="width-fit-1">
          Button
        </Button>
        <Button id="width-fit-2">Submit</Button>
      </ButtonGroup>
      <Heading level="three">full width</Heading>
      <ButtonGroup buttonWidth="full">
        <Button buttonType="secondary" id="width-full-1">
          Button
        </Button>
        <Button id="width-full-2">Submit</Button>
      </ButtonGroup>
    </SimpleGrid>
  </DSProvider>
</Canvas>

## Layout

The `layout` prop can be used to set the layout to either `row` or `column`.

<Canvas>
  <DSProvider>
    <SimpleGrid columns={1}>
      <Heading level="three">default row</Heading>
      <ButtonGroup>
        <Button buttonType="secondary" id="row-1">
          Button
        </Button>
        <Button id="row-2">Submit</Button>
      </ButtonGroup>
      <Heading level="three">column</Heading>
      <ButtonGroup layout="column">
        <Button buttonType="secondary" id="column-1">
          Button
        </Button>
        <Button id="column-2">Submit</Button>
      </ButtonGroup>
      <Heading level="three">column layout with full-width</Heading>
      <ButtonGroup buttonWidth="full" layout="column">
        <Button buttonType="secondary" id="column-full-1">
          Button
        </Button>
        <Button id="column-full-2">Submit</Button>
      </ButtonGroup>
    </SimpleGrid>
  </DSProvider>
</Canvas>

## isDisabled

The `isDisabled` prop can be used to disable all the `Button` children at once.
Individual `Button`s can still be disabled with their own `isDisabled` prop.

<Canvas>
  <DSProvider>
    <SimpleGrid columns={1}>
      <Heading level="three">ButtonGroup isDisabled</Heading>
      <ButtonGroup isDisabled>
        <Button buttonType="secondary" id="group-disabled-1">
          Button disabled
        </Button>
        <Button buttonType="secondary" id="group-disabled-2">
          Button disabled
        </Button>
      </ButtonGroup>
      <Heading level="three">Individual Button isDisabled</Heading>
      <ButtonGroup>
        <Button buttonType="secondary" id="individual-disabled-1">
          Button not disabled
        </Button>
        <Button buttonType="secondary" id="individual-disabled-2" isDisabled>
          Button disabled
        </Button>
      </ButtonGroup>
    </SimpleGrid>
  </DSProvider>
</Canvas>
