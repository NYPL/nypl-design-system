import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import DSProvider from "../../theme/provider";
import { getCategory } from "../../utils/componentCategories";
import MultiSelectGroup from "./MultiSelectGroup";
import * as stories from "./MultiSelectGroup.stories";

<Meta
  title={getCategory("MultiSelectGroup")}
  component={MultiSelectGroup}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=43593%3A24611",
    },
    jest: ["MultiSelectGroup.test.tsx"],
  }}
  argTypes={{
    className: { control: false },
    id: { control: false },
    isBlockElement: {
      control: "radio",
      options: [true, false, undefined],
      table: { defaultValue: { summary: undefined } },
    },
    layout: {
      table: { defaultValue: { summary: "row" } },
    },
    showLabel: {
      table: { defaultValue: { summary: true } },
    },
    multiSelectWidth: {
      table: { defaultValue: { summary: "default" } },
    },
  }}
/>

# MultiSelectGroup

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `1.1.0`    |
| Latest            | `1.1.0`    |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [Layout Patterns](#layout-patterns)

## Overview

<Description of={MultiSelectGroup} />

## Component Props

<Canvas withToolbar>
  <Story
    name="MultiSelectGroup"
    args={{
      id: "multiselect-group",
      labelText: "Label Text",
    }}
  >
    {(args) => <stories.MultiSelectGroupStory {...args} />}
  </Story>
</Canvas>

<ArgsTable story="MultiSelectGroup" />

## Accessibility

The `MultiSelectGroup` renders a group of `MultiSelect` components that are wrapped in
a `<fieldset>` element. The `<fieldset>` element renders a `<legend>` element that
can be visually hidden through the `showLabel` prop. If the `<legend>` is hidden an `aria-label`
attribute with `labelText` value will be rendered instead.
For accessibility information on the `MultiSelect` component, see the [MultiSelect Accessibility](https://nypl-design-system-vvscfj2pn-nypl.vercel.app/?path=/docs/components-form-elements-multiselect--multi-select-list-box) documentation.

## Layout Patterns

The width of the MultiSelect components can be passed through the `multiSelectWidth`
prop, with values of `"default"`, `"fitContent"`, and `"full"`.
On screen width under 600px width the `layout` is automatically set to "column" and the `multiSelectWidth` to "full".
Note: when `layout = "column"` is passed, the MultiSelect components will have `isBlockElement` set to `true` by default.

<Canvas>
  <DSProvider>
    <stories.MultiSelectGroupLayoutStory />
  </DSProvider>
</Canvas>
