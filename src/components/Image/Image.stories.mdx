import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs/blocks";
import { withDesign } from "storybook-addon-designs";
import { VStack } from "@chakra-ui/react";

import Image from "./Image";
import { ImageRatios, ImageSizes, ImageTypes } from "./ImageTypes";
import Heading from "../Heading/Heading";
import SimpleGrid from "../Grid/SimpleGrid";
import { getCategory } from "../../utils/componentCategories";

<Meta
  title={getCategory("Image")}
  component={Image}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url:
        "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Master?node-id=11896%3A45379",
    },
    jest: ["Image.test.tsx"],
  }}
  argTypes={{
    alt: { table: { disable: true } },
    className: { table: { disable: true } },
    component: { table: { disable: true } },
  }}
/>

# Image

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.0.6`    |
| Latest            | `0.25.8`   |

<Description of={Image} />

<p>
  If you want a simple HTML `img` element then don't pass in values for the
  `imageAspectRatio` or `imageSize` props.
</p>

<Canvas>
  <Story
    name="Image Props"
    args={{
      alt: "Alt text",
      imageAspectRatio: ImageRatios.TwoByOne,
      imageCaption: "Image caption",
      imageCredit: "Image credit",
      imageSize: ImageSizes.Medium,
      imageType: ImageTypes.Default,
      src: "https://placeimg.com/400/300/animals",
    }}
  >
    {(args) => <Image {...args} />}
  </Story>
</Canvas>

<ArgsTable story="Image Props" />

## Image Figure

By passing in `imageCredit` or `imageCaption`, the `Image` component will
render an HTML `figure` element and render an `img` element inside with the
proper props. If no `imageCredit` or `imageCaption` prop values are passed,
then an `img` element will be rendered with or without wrapper style divs.

<Canvas>
  <Story
    name="Figure and figcaption"
    args={{
      alt: "Alt text",
      imageAspectRatio: ImageRatios.ThreeByTwo,
      imageCaption: "Image caption",
      imageCredit: "Image credit",
      imageSize: ImageSizes.Medium,
      imageType: ImageTypes.Default,
      src: "https://placeimg.com/400/300/animals",
    }}
    argTypes={{
      imageAspectRatio: { table: { disable: true } },
      imageCaption: { table: { disable: true } },
      imageCredit: { table: { disable: true } },
      imageSize: { table: { disable: true } },
      imageType: { table: { disable: true } },
      src: { table: { disable: true } },
    }}
  >
    {(args) => <Image {...args} />}
  </Story>
</Canvas>

## Image Sizes

Use the `ImageSizes` prop to set the desired size.

<Canvas>
  <Story name="Image Sizes">
    <SimpleGrid columns={1}>
      <div style={{ textAlign: "center" }}>
        <Heading id="ExtraExtraSmall" text="ImageSizes.ExtraExtraSmall" />
        <Image
          alt="Alt text"
          imageCaption="64px"
          imageSize={ImageSizes.ExtraExtraSmall}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center" }}>
        <Heading id="ExtraSmall" text="ImageSizes.ExtraSmall" />
        <Image
          alt="Alt text"
          imageCaption="96px"
          imageSize={ImageSizes.ExtraSmall}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center" }}>
        <Heading id="Small" text="ImageSizes.Small" />
        <Image
          alt="Alt text"
          imageCaption="165px"
          imageSize={ImageSizes.Small}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center" }}>
        <Heading id="Medium" text="ImageSizes.Medium" />
        <Image
          alt="Alt text"
          imageCaption="225px"
          imageSize={ImageSizes.Medium}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center" }}>
        <Heading id="Large" text="ImageSizes.Large" />
        <Image
          alt="Alt text"
          imageCaption="360px"
          imageSize={ImageSizes.Large}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center" }}>
        <Heading id="Default" text="ImageSizes.Default" />
        <Image
          alt="Alt text"
          imageCaption="100%"
          src="https://placeimg.com/400/300/animals"
        />
      </div>
    </SimpleGrid>
  </Story>
</Canvas>

## Image Aspect Ratios

Use the `imageAspectRatio` prop to set the desired aspect ratio. Note: the
following example has `imageSize` set to `ImageSizes.Small`.

For a better viewing experience, the `Image` components below have been wrapped
in an element with a fixed width value.

<Canvas>
  <Story name="Image Aspect Ratios">
    <VStack spacing="xl" maxWidth="360px" margin="auto">
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="fourbythree" text="ImageRatios.FourByThree" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.FourByThree}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="onebytwo" text="ImageRatios.OneByTwo" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.OneByTwo}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="original" text="ImageRatios.Original" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.Original}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="sixteenbynine" text="ImageRatios.SixteenByNine" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.SixteenByNine}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="square" text="ImageRatios.Square" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.Square}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="threebyfour" text="ImageRatios.ThreeByFour" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.ThreeByFour}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="threebytwo" text="ImageRatios.ThreeByTwo" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.ThreeByTwo}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="twobyone" text="ImageRatios.TwoByOne" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.TwoByOne}
          src="https://placeimg.com/400/300/animals"
        />
      </div>
    </VStack>
  </Story>
</Canvas>

## Image Types

Use the `imageType` prop to get an image variant. Note that to get a perfect
circle, the `imageAspectRatio` prop _must_ be set to `ImageRatios.Square`.

For a better viewing experience, the `Image` components below have been wrapped
in an element with a fixed width value.

<Canvas>
  <Story name="Image Types">
    <VStack spacing="xl" maxWidth="360px" margin="auto">
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="default" text="ImageTypes.Default" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.Square}
          imageType={ImageTypes.Default}
          src="https://placeimg.com/400/400/animals"
        />
      </div>
      <div style={{ textAlign: "center", width: "100%" }}>
        <Heading id="circle" text="ImageTypes.Circle" />
        <Image
          alt="Alt text"
          imageAspectRatio={ImageRatios.Square}
          imageType={ImageTypes.Circle}
          src="https://placeimg.com/400/400/animals"
        />
      </div>
    </VStack>
  </Story>
</Canvas>
