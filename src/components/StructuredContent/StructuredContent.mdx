import { ArgTypes, Canvas, Description, Meta, Source } from "@storybook/blocks";

import * as StructuredContentStories from "./StructuredContent.stories";
import Link from "../Link/Link";
import ComponentChangelogTable from "../../utils/ComponentChangelogTable";
import { changelogData } from "./structuredContentChangelogData";

<Meta of={StructuredContentStories} />

# StructuredContent

| Component Version | DS Version   |
| ----------------- | ------------ |
| Added             | `0.25.9`     |
| Latest            | `Prerelease` |

## Table of Contents

- {<Link href="#overview" target="_self">Overview</Link>}
- {<Link href="#component-props" target="_self">Component Props</Link>}
- {<Link href="#accessibility" target="_self">Accessibility</Link>}
- {<Link href="#with-html-string-text-content" target="_self">With HTML String Text Content</Link>}
- {<Link href="#with-html-element-text-content" target="_self">With HTML Element Text Content</Link>}
- {<Link href="#with-custom-heading-levels" target="_self">With Custom Heading Levels</Link>}
- {<Link href="#examples" target="_self">Examples</Link>}
- {<Link href="#changelog" target="_self">Changelog</Link>}

## Overview

<Description of={StructuredContentStories} />

## Component Props

<Canvas of={StructuredContentStories.Controls} />

<ArgTypes of={StructuredContentStories.Controls} />

## Accessibility

The `StructuredContent` component is a structured container around a specific
set of content. While the main image can be controlled through the `imageProps`
prop, the content will not always be controlled. If the content that is being
passed is coming from a CMS, the content can contain any set of HTML elements that
are _not_ controlled through Reservoir DS components. While this component
attempts to style the added elements, we cannot guarantee that the content will
be accessible. Please review your content and make sure that:

- The content's font-size to be scaled to 200% without content overlapping.
- Any additional images have descriptive (but not too lengthy) alt text.
- Any additional heading levels should not be skipped. Meaning, a `<h2>` should
  not be followed by a `<h4>`.
- Any links or text with colors should have a 4.5:1 contrast ratio.

## With HTML String Text Content

The following body content is passed as a string to the `bodyContent` prop. It
includes HTML tags in the string.

<Canvas of={StructuredContentStories.WithHTMLStringTextContent} />

## With HTML Element Text Content

The following content is passed as HTML DOM elements to the `bodyContent` prop.

<Canvas of={StructuredContentStories.WithHTMLElementTextContent} />

## With Custom Heading Levels

By default, the `StructuredContent` component will render its `headingText` as
an `h2` and its `calloutText` as an `h3`. If this needs to be updated in a
consuming application, it's possible to pass custom `Heading` or h\* HTML
elements.

In the following examples, the `headingText` is rendered as an `h3` and the
`calloutText` is rendered as an `h4`. Note that both headings are rendered
sequentially, so the callout heading level MUST be the next heading after the
`headingText` level.

<Source
  code={`

const customH3heading = <Heading level="h3">Custom H3 Heading Text</Heading>;
const customH4callout = <Heading level="h4">Custom H4 callout Text</Heading>;

<StructuredContent
  headingText={customH3heading}
  calloutText={customH4callout}
  {...otherProps}
/>
`} language="tsx" />

<Canvas of={StructuredContentStories.WithCustomHeadingsLevels} />

## Examples

The following has two `StructuredContent` components. The first one has an image
but no callout content. The second component does not have an image.

<Canvas of={StructuredContentStories.ExampleWithTwoComponents} />

The following has three `StructuredContent` components. The first one only has
the callout content. The second has no callout content but an image and text content.
The third one does not contain an image.

<Canvas of={StructuredContentStories.ExampleWithThreeComponents} />

The following has two `StructuredContent` components. The first one only displays
text content. The second one has a callout content and image spanning full width.

<Canvas of={StructuredContentStories.ExampleWithMixedContent} />

## Changelog

<ComponentChangelogTable changelogData={changelogData} />
