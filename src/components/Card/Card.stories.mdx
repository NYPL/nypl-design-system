import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs/blocks";
import { withDesign } from "storybook-addon-designs";
import { action } from "@storybook/addon-actions";

import Button from "../Button/Button";
import { ButtonTypes } from "../Button/ButtonTypes";
import Card, { CardHeading, CardContent, CardActions } from "./Card";
import { CardLayouts } from "./CardTypes";
import Link from "../Link/Link";
import Heading from "../Heading/Heading";
import HorizontalRule from "../HorizontalRule/HorizontalRule";
import { LinkTypes } from "../Link/LinkTypes";
import { HeadingDisplaySizes, HeadingLevels } from "../Heading/HeadingTypes";
import Icon from "../Icons/Icon";
import Image from "../Image/Image";
import { ImageRatios, ImageSizes } from "../Image/ImageTypes";
import SimpleGrid from "../Grid/SimpleGrid";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("Card")}
  component={Card}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url:
        "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Master?node-id=17167%3A58131",
    },
  }}
  argTypes={{
    className: { table: { disable: true } },
    id: { table: { disable: true } },
    imageComponent: { table: { disable: true } },
    backgroundColor: { control: { type: "color" } },
    foregroundColor: { control: { type: "color" } },
  }}
/>

# Card

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.24.0`   |
| Latest            | `0.25.2`   |

<Description of={Card} />

The `Card` component is viewed as a contained, stand-alone element. It is highly configurable and composable. It can be shown with or without an image and the content area is composed using Card-specific child components: `CardHeading`, `CardActions` and `CardContent`. These child components can be arranged in any order and each child component may be used multiple times within the content area. Although a `Card` is a self-contained unit, `Card` components are often grouped together and displayed in some type of grid layout.

#### CardHeading

The `CardHeading` component mirrors the standard DS `Heading` component and accepts the [same props](https://nypl.github.io/nypl-design-system/storybook-static/?path=/docs/heading--heading-props).

#### CardActions

The `CardActions` component is used to display "call to action" (CTA) buttons and links for the card. The DS `Button` and `Link` components should be passed as children into the `CardActions` component.

#### CardContent

The `CardContent` component should be used to display all content other than headings and CTAs.

<Canvas withToolbar>
  <Story
    name="Card Props"
    args={{
      id: "custom-card",
      layout: CardLayouts.Row,
      imageSrc: "https://placeimg.com/400/300/animals",
      imageAspectRatio: ImageRatios.ThreeByFour,
      imageSize: ImageSizes.Default,
      imageAlt: "Alt text",
      imageAtEnd: false,
      border: false,
      center: false,
    }}
  >
    {(args) => (
      <Card {...args}>
        <CardHeading level={HeadingLevels.Two} id="main-heading1">
          Optional Header
        </CardHeading>
        <CardHeading level={HeadingLevels.Four} id="main-heading2">
          Sollicitudin Lorem Tortor Purus Ornare
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Nullam quis risus eget urna mollis ornare
          vel eu leo. Nulla vitae elit libero, a pharetra augue.
        </CardContent>
        <CardActions topBorder bottomBorder>
          <Button
            onClick={action("clicked")}
            id="main-button1"
            buttonType={ButtonTypes.Primary}
            type="submit"
          >
            Primary
          </Button>
          <Button
            onClick={action("clicked")}
            id="main-button2"
            buttonType={ButtonTypes.Secondary}
            type="submit"
          >
            Secondary
          </Button>
        </CardActions>
        <CardActions>
          <Link href="javascript:void(0);">#hash1</Link>,
          <Link href="javascript:void(0);">#hash2</Link>,
          <Link href="javascript:void(0);">#hash3</Link>
        </CardActions>
      </Card>
    )}
  </Story>
</Canvas>

<ArgsTable story="Card Props" />

## Image Position

By default, the image is always the first element within a `Card`. This means
the image is at the top of a `Card` with a column layout and on the left side of
a `Card` with a row layout. However, you can use the `imageAtEnd` prop to override
the default placement and move the image to the last element within a `Card`.

### Column Cards

<Canvas>
  <Story name="Card Image Position">
    <SimpleGrid columns={2}>
      <Card
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="props-heading1">
          Image on Top (default)
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <Card
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        imageAtEnd
      >
        <CardHeading level={HeadingLevels.Three} id="props-heading2">
          Image on Bottom
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
    </SimpleGrid>
  </Story>
</Canvas>

### Row Cards

<Canvas>
  <DSProvider>
    <SimpleGrid columns={1}>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Four} id="row-heading1">
          Image on Left (default)
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        imageAtEnd
      >
        <CardHeading level={HeadingLevels.Four} id="row-heading2">
          Image on Right
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
    </SimpleGrid>
  </DSProvider>
</Canvas>

## Image Size

By default, the image width is `100%` for a `Card` with a column layout and
`225px` for a `Card` with a row layout. However, you can use the `imageSize`
prop to override the default width.

### Column Cards

<Canvas>
  <Story name="Card Image Size">
    <SimpleGrid columns={1}>
      <Card
        center
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.Square}
        imageSize={ImageSizes.Small}
      >
        <CardHeading level={HeadingLevels.Three} id="column-heading1">
          Small Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="column-heading2">
          Max-Width: 165px
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <HorizontalRule />
      <Card
        center
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.Square}
        imageSize={ImageSizes.Medium}
      >
        <CardHeading level={HeadingLevels.Three} id="column2-heading1">
          Medium Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="column2-heading2">
          Max-Width: 225px
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <HorizontalRule />
      <Card
        center
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.Square}
        imageSize={ImageSizes.Large}
      >
        <CardHeading level={HeadingLevels.Three} id="column3-heading1">
          Large Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="column3-heading2">
          Max-Width: 360px
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <HorizontalRule />
      <Card
        center
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.Square}
      >
        <CardHeading level={HeadingLevels.Three} id="column-4heading1">
          Default Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="column-4heading2">
          Width: 100%
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
    </SimpleGrid>
  </Story>
</Canvas>

### Row Cards

<Canvas>
  <DSProvider>
    <SimpleGrid columns={1}>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        imageSize={ImageSizes.Small}
      >
        <CardHeading level={HeadingLevels.Three} id="row2-heading1">
          Small Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="row2-heading2">
          Max-Width: 165px
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
        </CardContent>
      </Card>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        imageSize={ImageSizes.Medium}
      >
        <CardHeading level={HeadingLevels.Three} id="row3-heading2">
          Medium Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="row3-heading2">
          Max-Width: 225px
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis.
        </CardContent>
      </Card>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/400/250/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        imageSize={ImageSizes.Large}
      >
        <CardHeading level={HeadingLevels.Three} id="row4-heading1">
          Large Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="row4-heading2">
          Max-Width: 360px
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/450/250/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="row5-heading2">
          Default Image
        </CardHeading>
        <CardHeading level={HeadingLevels.Five} id="row5-heading2">
          Max-Width: 225px
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
    </SimpleGrid>
  </DSProvider>
</Canvas>

## Cards in a Grid

<Canvas>
  <Story name="Cards in a Grid">
    <SimpleGrid columns={3}>
      <Card
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="grid1-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <Card
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="grid2-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <Card
        imageSrc="https://placeimg.com/420/220/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="grid3-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <Card
        imageSrc="https://placeimg.com/430/230/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="grid4-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <Card
        imageSrc="https://placeimg.com/440/240/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="grid5-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
      <Card
        imageSrc="https://placeimg.com/450/250/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Three} id="grid6-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
    </SimpleGrid>
  </Story>
</Canvas>

## Cards in a Stack

<Canvas>
  <Story name="Cards in a Stack">
    <SimpleGrid columns={1}>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Four} id="stack1-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Four} id="stack2-heading2">
          Card Heading
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
      <Card
        layout={CardLayouts.Row}
        center
        imageSrc="https://placeimg.com/420/220/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
      >
        <CardHeading level={HeadingLevels.Four} id="stack3-heading3">
          Card Heading
        </CardHeading>
        <CardContent>
          Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
          Sed posuere consectetur est at lobortis. Cras justo odio, dapibus ac
          facilisis in, egestas eget quam.
        </CardContent>
      </Card>
    </SimpleGrid>
  </Story>
</Canvas>

## Custom Image Component

Instead of passing a path for the `imageSrc` prop, you can pass a custom image component in using the `imageComponent` prop.

<Canvas withToolbar>
  <Story name="Custom Image Component">
    <Card
      imageAlt="Alt text"
      imageAspectRatio={ImageRatios.SixteenByNine}
      imageComponent={
        <Image src="https://placeimg.com/400/400/animals" alt="Alt text" />
      }
    >
      <CardHeading level={HeadingLevels.Two} id="img1-heading1">
        Card Component with Custom Image Component
      </CardHeading>
      <CardHeading level={HeadingLevels.Four} id="img2-heading2">
        Secondary Heading
      </CardHeading>
      <CardContent>
        Nulla vitae elit libero, a pharetra augue. Lorem ipsum dolor sit amet,
        consectetur adipiscing elit. Aenean lacinia bibendum nulla sed
        consectetur. Vestibulum id ligula porta felis euismod semper. Cras justo
        odio, dapibus ac facilisis in, egestas eget quam. Sed posuere
        consectetur est at lobortis.
      </CardContent>
      <CardActions>
        <Link type={LinkTypes.Button} href="#">
          Reserve
        </Link>
        <Link href="#url" type={LinkTypes.Forwards}>
          View Book Details
        </Link>
      </CardActions>
    </Card>
  </Story>
</Canvas>

## Cards Without Images

<Canvas>
  <Story name="Cards Without Images">
    <SimpleGrid columns={3}>
      <Card border>
        <CardHeading level={HeadingLevels.Three} id="no-img1-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Nulla vitae elit libero, a pharetra augue.
          Praesent commodo cursus magna, vel scelerisque nisl.
        </CardContent>
      </Card>
      <Card border>
        <CardHeading level={HeadingLevels.Three} id="no-img2-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Nulla vitae elit libero, a pharetra augue.
          Praesent commodo cursus magna, vel scelerisque nisl.
        </CardContent>
      </Card>
      <Card border>
        <CardHeading level={HeadingLevels.Three} id="no-img3-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Nulla vitae elit libero, a pharetra augue.
          Praesent commodo cursus magna, vel scelerisque nisl.
        </CardContent>
      </Card>
    </SimpleGrid>
    <br />
    <SimpleGrid columns={1}>
      <Card layout={CardLayouts.Row} border>
        <CardHeading level={HeadingLevels.Three} id="no-img4-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Vestibulum id ligula porta felis euismod
          semper. Nulla vitae elit libero, a pharetra augue. Nulla vitae elit
          libero, a pharetra augue. Praesent commodo cursus magna, vel
          scelerisque nisl consectetur et. Donec id elit non mi porta gravida at
          eget metus.
        </CardContent>
      </Card>
      <Card layout={CardLayouts.Row} border>
        <CardHeading level={HeadingLevels.Three} id="no-img5-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Vestibulum id ligula porta felis euismod
          semper. Nulla vitae elit libero, a pharetra augue. Nulla vitae elit
          libero, a pharetra augue. Praesent commodo cursus magna, vel
          scelerisque nisl consectetur et. Donec id elit non mi porta gravida at
          eget metus.
        </CardContent>
      </Card>
      <Card layout={CardLayouts.Row} border>
        <CardHeading level={HeadingLevels.Three} id="no-img6-heading1">
          Card Heading
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue. Vestibulum id ligula porta felis euismod
          semper. Nulla vitae elit libero, a pharetra augue. Nulla vitae elit
          libero, a pharetra augue. Praesent commodo cursus magna, vel
          scelerisque nisl consectetur et. Donec id elit non mi porta gravida at
          eget metus.
        </CardContent>
      </Card>
    </SimpleGrid>
  </Story>
</Canvas>

## Card With Full-Click Functionality

To enable the full-click functionality in the `Card` component, pass a URL in
the `mainActionLink` prop and relevant text in the `mainAriaLabel` prop. This
will make the entire `Card` component clickable. If the `Card` has action links
or buttons, they can still be accessed by tabbing through the `Card` and
pressing `enter`.

<Canvas>
  <Story name="Card With Full-Click Functionality">
    <SimpleGrid columns={2}>
      <Card
        imageSrc="https://placeimg.com/400/200/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        mainActionLink="http://nypl.org"
        mainAriaLabel="Go to NYPL home page."
      >
        <CardHeading level={HeadingLevels.Three} id="fullclick1-heading1">
          Image on Top (default)
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
        <CardActions>
          <Link href="#" type={LinkTypes.Button}>
            Button
          </Link>
          <Link href="#" type={LinkTypes.Forwards}>
            Read more
          </Link>
        </CardActions>
      </Card>
      <Card
        imageSrc="https://placeimg.com/410/210/animals"
        imageAlt="Alt text"
        imageAspectRatio={ImageRatios.TwoByOne}
        mainActionLink="http://nypl.org"
        mainAriaLabel="Go to NYPL home page."
        imageAtEnd
      >
        <CardHeading level={HeadingLevels.Three} id="fullclick2-heading1">
          Image on Bottom
        </CardHeading>
        <CardContent>
          Vestibulum id ligula porta felis euismod semper. Nulla vitae elit
          libero, a pharetra augue.
        </CardContent>
      </Card>
    </SimpleGrid>
  </Story>
</Canvas>
