import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import Breadcrumbs, { BreadcrumbsTypes } from "./Breadcrumbs";
import Heading from "../Heading/Heading";
import Link from "../Link/Link";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("Breadcrumbs")}
  component={Breadcrumbs}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=10766%3A1031",
    },
    jest: ["Breadcrumbs.test.tsx"],
  }}
  argTypes={{
    breadcrumbsData: { control: false },
    breadcrumbsType: {
      table: { defaultValue: { summary: "whatsOn" } },
    },
    className: { control: false },
    id: { control: false },
  }}
/>

# Breadcrumbs

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.0.3`    |
| Latest            | `1.4.0`    |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [Long Titles](#long-titles)
- [Color Variations](#color-variations)

## Overview

<Description of={Breadcrumbs} />

The `Breadcrumbs` component is a navigation element that provides a breadcrumb
path that reflects the site structure and allows a user to navigate to any page
available in the breadcrumb hierarchy.

## Component Props

<Canvas withToolbar>
  <Story
    name="Breadcrumbs with Controls"
    args={{
      breadcrumbsData: [
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        { url: "#", text: "Grandchild" },
      ],
      className: undefined,
      breadcrumbsType: "whatsOn",
      id: "breadcrumbs-id",
    }}
  >
    {(args) => <Breadcrumbs {...args} />}
  </Story>
</Canvas>

<ArgsTable story="Breadcrumbs with Controls" />

### Accessibility

Only one `Breadcrumbs` component should be rendered on a page. This is because
only one HTML `<nav>` element with an `aria-label` attribute value of
"Breadcrumbs" should be rendered on a page. The DS `Breadcrumbs` component
renders this HTML landmark so only one component must be rendered on a page.

Internally, links are organized in a `ul` list element. The current page link is
denoted by an `aria-current` attribute value of "page".

- [W3 Breadcrumbs Practice](https://www.w3.org/TR/wai-aria-practices/examples/breadcrumb/index.html)
- [Chakra UI Breadcrumb](https://chakra-ui.com/docs/components/navigation/breadcrumb)

## Long Titles 
  Truncate breadcrumb text if beyond 60 characters then add ellipsis at the end.
  If the breadcrumb text is truncated, the DS `Tooltip` component is used to display the full text in a tooltip when the text is hovered

<Canvas>
  <DSProvider>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent with a Long Name" },
        { url: "#", text: "Child with an Even Longer Name" },
        {
          url: "#",
          text: "Grandchild with an Exceptionally Long Name",
        },
        {
          url: "#",
          text: "Great-Grandchild with the Longest Name That Will Wrap onto the Second Line of the Breadcrumb Component Under the Right Circumstances",
        },
      ]}
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent with a Long Name" },
        { url: "#", text: "Child with an Even Longer Name" },
        {
          url: "#",
          text: "Grandchild with an Exceptionally Long Name. Long titles shorten to 60 characters, an ellipsis will be added, and that the Tooltip is used to see the entire text characters "
        },
        {
          url: "#",
          text: "Great-Grandchild with the Longest Name",
        },
      ]}
    />
  </DSProvider>
</Canvas>

## Color Variations

The `Breadcrumbs` component background color can be set to a value of the
`breadcrumbsType` type. If the `breadcrumbsType` prop is omitted, the default
background color is `"whatsOn"` (`ui.black`).

<Canvas>
  <Story
    name="Color Variations"
    args={{
      breadcrumbsType: "blogs",
    }}
  >
    {(args) => (
      <>
        <Heading level="three">Blogs</Heading>
        <Breadcrumbs
          breadcrumbsData={[
            { url: "#", text: "Parent" },
            { url: "#", text: "Child" },
            {
              url: "#",
              text: "Grandchild",
            },
          ]}
          breadcrumbsType={args.breadcrumbsType}
        />
      </>
    )}
  </Story>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level="three">Books and More</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType="booksAndMore"
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level="three">Education</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType="education"
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level="three">Locations</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType="locations"
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level="three">Research</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType="research"
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level="three">What's On</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType="whatsOn"
    />
  </DSProvider>
</Canvas>
