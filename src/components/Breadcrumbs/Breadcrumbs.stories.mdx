import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import Breadcrumbs from "./Breadcrumbs";
import { BreadcrumbsTypes } from "./BreadcrumbsTypes";
import Heading from "../Heading/Heading";
import { HeadingLevels } from "../Heading/HeadingTypes";
import Link from "../Link/Link";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";
import { getStorybookEnumValues } from "../../utils/utils";

export const enumValues = getStorybookEnumValues(
  BreadcrumbsTypes,
  "BreadcrumbsTypes"
);

<Meta
  title={getCategory("Breadcrumbs")}
  component={Breadcrumbs}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=10766%3A1031",
    },
    jest: ["Breadcrumbs.test.tsx"],
  }}
  argTypes={{
    additionalStyles: { control: false },
    breadcrumbsData: { control: false },
    className: { control: false },
    breadcrumbsType: {
      control: { type: "select" },
      options: enumValues.options,
    },
    id: { control: false },
  }}
/>

# Breadcrumbs

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.0.3`    |
| Latest            | `0.26.0`   |

<Description of={Breadcrumbs} />

The `Breadcrumbs` component is a navigation element that provides a breadcrumb
path that reflects the site structure and allows a user to navigate to any page
available in the breadcrumb hierarchy.

<Canvas withToolbar>
  <Story
    name="Breadcrumbs with Controls"
    args={{
      additionalStyles: undefined,
      breadcrumbsData: [
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        { url: "#", text: "Grandchild" },
      ],
      className: undefined,
      breadcrumbsType: undefined,
      id: "breadcrumbs-id",
    }}
  >
    {(args) => (
      <Breadcrumbs
        {...args}
        breadcrumbsType={enumValues.getValue(args.breadcrumbsType)}
      />
    )}
  </Story>
</Canvas>

<ArgsTable story="Breadcrumbs with Controls" />

### Accessibility

Only one `Breadcrumbs` component should be rendered on a page. This is because
only one HTML `<nav>` element with `aria-label` attribute of "Breadcrumbs"
should be rendered. The DS `Breadcrumbs` component renders this HTML landmark
so only one component must be rendered on a page.

- [W3 Breadcrumbs Practice](https://www.w3.org/TR/wai-aria-practices/examples/breadcrumb/index.html)

### Long Titles

<Canvas>
  <DSProvider>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent with a Long Name" },
        { url: "#", text: "Child with an Even Longer Name" },
        {
          url: "#",
          text: "Grandchild with an Exceptionally Long Name",
        },
        {
          url: "#",
          text: "Great-Grandchild with the Longest Name That Will Wrap onto the Second Line of the Breadcrumb Component Under the Right Circumstances",
        },
      ]}
    />
  </DSProvider>
</Canvas>

## Color Variations

The `Breadcrumbs` component background color can be set using the `breadcrumbsType`
prop and the `BreadcrumbsTypes` enum. If the `breadcrumbsType` prop is omitted,
the default background color is `black`.

<Canvas>
  <Story
    name="Color Variations"
    args={{
      breadcrumbsType: BreadcrumbsTypes.Blogs,
    }}
  >
    {(args) => (
      <>
        <Heading level={HeadingLevels.Three}>Blogs</Heading>
        <Breadcrumbs
          breadcrumbsData={[
            { url: "#", text: "Parent" },
            { url: "#", text: "Child" },
            {
              url: "#",
              text: "Grandchild",
            },
          ]}
          breadcrumbsType={args.breadcrumbsType}
        />
      </>
    )}
  </Story>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level={HeadingLevels.Three}>Books and More</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType={BreadcrumbsTypes.BooksAndMore}
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level={HeadingLevels.Three}>Education</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType={BreadcrumbsTypes.Education}
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level={HeadingLevels.Three}>Locations</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType={BreadcrumbsTypes.Locations}
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level={HeadingLevels.Three}>Research</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType={BreadcrumbsTypes.Research}
    />
  </DSProvider>
</Canvas>

<Canvas>
  <DSProvider>
    <Heading level={HeadingLevels.Three}>What's On</Heading>
    <Breadcrumbs
      breadcrumbsData={[
        { url: "#", text: "Parent" },
        { url: "#", text: "Child" },
        {
          url: "#",
          text: "Grandchild",
        },
      ]}
      breadcrumbsType={BreadcrumbsTypes.WhatsOn}
    />
  </DSProvider>
</Canvas>
