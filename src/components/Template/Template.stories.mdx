import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs/blocks";
import { withDesign } from "storybook-addon-designs";

import {
  Template,
  TemplateHeader,
  TemplateBreakout,
  TemplateContent,
  TemplateContentTop,
  TemplateContentPrimary,
  TemplateContentSidebar,
  TemplateFooter,
  TemplateAppContainer,
} from "./Template";
import Placeholder from "../Placeholder/Placeholder";
import { getCategory } from "../../utils/componentCategories";

<Meta
  title={getCategory("Template")}
  component={TemplateAppContainer}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url:
        "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Master?node-id=11982%3A47778",
    },
  }}
/>

# Template

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.3.6`    |
| Latest            | `0.25.1`   |

The DS "template" components are a set of components that work together to
render a consistent mobile and desktop layout. More information on how they
should be composed below.

Basic component structure:

```
import {
  Template,
  TemplateHeader,
  TemplateBreakout,
  TemplateContent,
  TemplateContentTop,
  TemplateContentPrimary,
  TemplateContentSidebar,
  TemplateFooter,
} from "@nypl/design-system-react-components";


<Template>
  <TemplateHeader>
    // ...
    <TemplateBreakout>
      // ...
    </TemplateBreakout>
  </TemplateHeader>

  <TemplateContent>
    <TemplateContentTop>
      // ...
    </TemplateContentTop>

    <TemplateContentPrimary>
      // ...
    </TemplateContentPrimary>
  </TemplateContent>

  <TemplateFooter>
    // ...
  </TemplateFooter>
</Template>
```

<Canvas>
  <Story
    name="Template with Props"
    args={{
      sidebar: "left",
    }}
    argTypes={{
      breakout: { table: { disable: true } },
      contentPrimary: { table: { disable: true } },
      contentSidebar: { table: { disable: true } },
      contentTop: { table: { disable: true } },
      footer: { table: { disable: true } },
      header: { table: { disable: true } },
    }}
  >
    {(args) => (
      <Template>
        <TemplateHeader>
          <Placeholder modifiers={["short"]}>NYPL Header</Placeholder>
          <TemplateBreakout>
            <Placeholder modifiers={["short"]}>Breadcrumbs</Placeholder>
            <Placeholder modifiers={["short"]}>Hero</Placeholder>
          </TemplateBreakout>
        </TemplateHeader>
        <TemplateContent sidebar={args.sidebar}>
          <TemplateContentTop>
            <Placeholder>Content Top</Placeholder>
          </TemplateContentTop>
          {args.sidebar === "left" && (
            <TemplateContentSidebar>
              <Placeholder>Left Sidebar</Placeholder>
            </TemplateContentSidebar>
          )}
          <TemplateContentPrimary>
            <Placeholder>Main Content</Placeholder>
            <Placeholder modifiers={["short"]}>More Content</Placeholder>
          </TemplateContentPrimary>
          {args.sidebar === "right" && (
            <TemplateContentSidebar>
              <Placeholder>Right Sidebar</Placeholder>
            </TemplateContentSidebar>
          )}
        </TemplateContent>
        <TemplateFooter>
          <Placeholder modifiers={["short"]}>Footer</Placeholder>
        </TemplateFooter>
      </Template>
    )}
  </Story>
</Canvas>

<ArgsTable story="Template with Props" />

## Template With Sidebar

In order to render a sidebar, two steps must be taken.

1. The `TemplateContent` component needs to be aware of it. Pass the location
   of the sidebar to the `sidebar` prop as either "left" or "right".

```jsx
<TemplateContent sidebar="left">
```

2. Render `TemplateContentSidebar` and `TemplateContentPrimary` next to each
   other in the appropriate order. If the sidebar must show left, then
   `TemplateContentSidebar` comes before `TemplateContentPrimary`. Otherwise,
   `TemplateContentPrimary` must come before `TemplateContentSidebar`.

```jsx
// Render left sidebar
<TemplateContent sidebar="left">
  <TemplateContentSidebar>
    // ...
  </TemplateContentSidebar>
  <TemplateContentPrimary>
    // ...
  </TemplateContentPrimary>
</TemplateContent>

// Render right sidebar
<TemplateContent sidebar="right">
  <TemplateContentPrimary>
    // ...
  </TemplateContentPrimary>
  <TemplateContentSidebar>
    // ...
  </TemplateContentSidebar>
</TemplateContent>
```

<Canvas>
  <Story name="Template with Sidebar">
    <Template>
      <TemplateHeader>
        <Placeholder modifiers={["short"]}>NYPL Header</Placeholder>
        <TemplateBreakout>
          <Placeholder modifiers={["short"]}>Breadcrumbs</Placeholder>
          <Placeholder modifiers={["short"]}>Hero</Placeholder>
        </TemplateBreakout>
      </TemplateHeader>
      <TemplateContent sidebar="right">
        <TemplateContentTop>
          <Placeholder>Content Top</Placeholder>
        </TemplateContentTop>
        <TemplateContentPrimary>
          <Placeholder>Main Content</Placeholder>
          <Placeholder modifiers={["short"]}>More Content</Placeholder>
        </TemplateContentPrimary>
        <TemplateContentSidebar>
          <Placeholder>Right Sidebar</Placeholder>
        </TemplateContentSidebar>
      </TemplateContent>
      <TemplateFooter>
        <Placeholder modifiers={["short"]}>Footer</Placeholder>
      </TemplateFooter>
    </Template>
  </Story>
</Canvas>

## Template Components

The components consist of:

- `Template`
- `TemplateHeader`
- `TemplateBreakout`
- `TemplateContent`
- `TemplateContentTop`
- `TemplateContentPrimary`
- `TemplateContentSidebar`
- `TemplateFooter`

### Template

```
<Template>
  // ...
</Template>
```

<Description of={Template} />

### TemplateHeader

```
<Template>
  <TemplateHeader>
    // ...
  </TemplateHeader>
<Template>
```

<Description of={TemplateHeader} />

### TemplateBreakout

```
<Template>
  <TemplateHeader>
    <TemplateBreakout>
      // ...
    </TemplateBreakout>
  </TemplateHeader>
<Template>
```

<Description of={TemplateBreakout} />

### TemplateContent

```
<Template>
  <TemplateHeader>...</TemplateHeader>
  <TemplateContent sidebar="left">
    // ...
  </TemplateContent>
<Template>
```

<Description of={TemplateContent} />

### TemplateContentTop

```
<Template>
  <TemplateHeader>...</TemplateHeader>
  <TemplateContent>
    <TemplateContentTop>
      // ...
    </TemplateContent>
  </TemplateContent>
<Template>
```

<Description of={TemplateContentTop} />

### TemplateContentPrimary

```
<Template>
  <TemplateHeader>...</TemplateHeader>
  <TemplateContent>
    <TemplateContentPrimary>
      // ...
    </TemplateContentPrimary>
  </TemplateContent>
<Template>
```

<Description of={TemplateContentPrimary} />

### TemplateContentSidebar

```
<Template>
  <TemplateHeader>...</TemplateHeader>
  <TemplateContent sidebar="right">
    <TemplateContentPrimary>
      // ...
    </TemplateContentPrimary>
    <TemplateContentSidebar>
      // RIGHT SIDEBAR
    </TemplateContentSidebar>
  </TemplateContent>
<Template>

<Template>
  <TemplateHeader>...</TemplateHeader>
  <TemplateContent sidebar="left">
    <TemplateContentSidebar>
      // LEFT SIDEBAR
    </TemplateContentSidebar>
    <TemplateContentPrimary>
      // ...
    </TemplateContentPrimary>
  </TemplateContent>
<Template>
```

<Description of={TemplateContentSidebar} />

### TemplateFooter

```
<Template>
  <TemplateHeader>
    // ...
  </TemplateHeader>
  <TemplateContent sidebar="right">
    //...
  </TemplateContent>
  <TemplateFooter>
    // ...
  </TemplateFooter>
<Template>
```

<Description of={TemplateFooter} />

## TemplateAppContainer Component

<Description of={TemplateAppContainer} />

```jsx
import { TemplateAppContainer } from "@nypl/design-system-react-components";

<TemplateAppContainer
  header={<Placeholder modifiers={["short"]}>NYPL Header</Placeholder>}
  breakout={
    <>
      <Placeholder modifiers={["short"]}>Breadcrumbs</Placeholder>
      <Placeholder modifiers={["short"]}>Hero</Placeholder>
    </>
  }
  sidebar="left"
  contentTop={<Placeholder>Content Top</Placeholder>}
  contentSidebar={<Placeholder>Left Sidebar</Placeholder>}
  contentPrimary={
    <>
      <Placeholder>Main Content</Placeholder>
      <Placeholder modifiers={["short"]}>More Content</Placeholder>
    </>
  }
  footer={<Placeholder modifiers={["short"]}>Footer</Placeholder>}
/>;
```

<Canvas>
  <Story
    name="TemplateAppContainer Component"
    args={{
      header: <Placeholder modifiers={["short"]}>NYPL Header</Placeholder>,
      breakout: (
        <>
          <Placeholder modifiers={["short"]}>Breadcrumbs</Placeholder>
          <Placeholder modifiers={["short"]}>Hero</Placeholder>
        </>
      ),
      sidebar: "left",
      contentTop: <Placeholder>Content Top</Placeholder>,
      contentSidebar: <Placeholder>Left Sidebar</Placeholder>,
      contentPrimary: (
        <>
          <Placeholder>Main Content</Placeholder>
          <Placeholder modifiers={["short"]}>More Content</Placeholder>
        </>
      ),
      footer: <Placeholder modifiers={["short"]}>Footer</Placeholder>,
    }}
    argTypes={{
      header: { control: false },
      breakout: { control: false },
      contentTop: { control: false },
      contentSidebar: { control: false },
      contentPrimary: { control: false },
      footer: { control: false },
    }}
  >
    {(args) => <TemplateAppContainer {...args} />}
  </Story>
</Canvas>

<ArgsTable story="TemplateAppContainer Component" />
