import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import Fieldset from "./Fieldset";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";

<Meta
  title={getCategory("Fieldset")}
  component={Fieldset}
  decorators={[withDesign]}
  parameters={{
    jest: ["Fieldset.test.tsx"],
  }}
  argTypes={{
    children: { table: { disable: true } },
    className: { control: false },
    id: { control: false },
    isLegendHidden: {
      table: { defaultValue: { summary: false } },
    },
    isRequired: {
      table: { defaultValue: { summary: false } },
    },
    showRequiredLabel: {
      table: { defaultValue: { summary: false } },
    },
  }}
/>

# Fieldset

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.25.3`   |
| Latest            | `1.5.0`    |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)

## Overview

<Description of={Fieldset} />

## Component Props

<Canvas withToolbar>
  <Story
    name="Fieldset"
    args={{
      className: undefined,
      id: "fieldset-id",
      isLegendHidden: false,
      isRequired: false,
      legendText: "This is the legend text",
      showRequiredLabel: true,
    }}
  >
    {(args) => (
      <Fieldset {...args}>
        <p>Text children in the Fieldset component.</p>
      </Fieldset>
    )}
  </Story>
</Canvas>

<ArgsTable story="Fieldset" />

## Accessibility

This is a simple component but is very important to use when building web forms.
Syntactically, the `Fieldset` component is used to group form elements. Semantically,
the form elements that are group should have a similar theme or context. For
example, when building out a form for a user to create an account, one `Fieldset`
should be used to group the user's first and last names and another `Fieldset`
to group the user's address information.

The Reservoir DS implements the `Fieldset` component in the following form
components:

- `CheckboxGroup`, `DatePicker`, `RadioGroup`.

Resources:

- [W3C Grouping form controls with FIELDSET and LEGEND](https://www.w3.org/TR/2008/WD-WCAG20-TECHS-20080430/H82.html)
- [GOV.UK Using the fieldset and legend elements](https://accessibility.blog.gov.uk/2016/07/22/using-the-fieldset-and-legend-elements/)
- [MDN fieldset: The Field Set element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset)
