import { Box, VStack } from "@chakra-ui/react";
import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";

import Label from "./Label";
import { getCategory } from "../../utils/componentCategories";

<Meta
  title={getCategory("Label")}
  component={Label}
  parameters={{
    jest: ["Label.test.tsx"],
  }}
  argTypes={{
    className: { control: false },
    id: { control: false },
    isInlined: { table: { disable: true } },
    text: {
      description: "Only used for Storybook",
    },
  }}
/>

# Label

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.0.10`   |
| Latest            | `1.5.0`    |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [isRequired helper text](#isrequired-helper-text)
- [requiredLabelText to customize required label](#requiredlabeltext-to-customize-required-label)

## Overview

<Description of={Label} />

## Component Props

<Canvas>
  <Story
    name="Label with Controls"
    args={{
      className: undefined,
      htmlFor: "id-of-input-element",
      id: "label-id",
      isRequired: false,
      text: "A label for a villager.",
    }}
  >
    {(args) => <Label {...args}>{args.text}</Label>}
  </Story>
</Canvas>

<ArgsTable story="Label with Controls" />

## Accessibility

The `Label` component is an accessible HTML `<label>` element. The JSX prop
`htmlFor` should be set to the `id` of the input element that the label is
associated with. This is the proper way to label inputs so that screenreaders
can read the label, without the use of the `aria-label` attribute on the input
element.

Note: All form-related Reservoir components already implement this `Label`
component so there is no need to use this component unless if you are building
a new form-related input component.

Resources:

- [WebAIM Creating Accessible Forms](https://webaim.org/techniques/forms/advanced)

## isRequired helper text

An optional helper string can be rendered at the end of the `Label` text through
the `isRequired` prop. This is useful for visually labeling a field as required
with the `"(Required)"` text next to the label's text. This is set to `false`
by default.

<Canvas>
  <Story name="isRequired helper text">
    <VStack>
      <Label htmlFor="label-id1" id="regular">
        A regular label
      </Label>
      <Label htmlFor="label-id2" id="required" isRequired>
        A label that is required
      </Label>
    </VStack>
  </Story>
</Canvas>

## requiredLabelText to customize required label

The `requiredLabelText` prop accepts values for type string and is available to update the "(Required)" text.
It is recommend to be used carefully and to only pass text that means "required", including in other languages.
We also recommend a maximum of two words for this text.
Note: The parenthesis will be added automatically by the component.

<Canvas>
  <Story name="requiredLabelText">
    <VStack>
      <Label htmlFor="label-id1" id="regular" isRequired>
        A regular isRequired label
      </Label>
      <Label
        htmlFor="label-id2"
        id="required"
        isRequired
        requiredLabelText="Obligatoire"
      >
        A label that has a customized required label
      </Label>
    </VStack>
  </Story>
</Canvas>
