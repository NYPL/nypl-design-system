import { useState } from "react";
import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs/blocks";
import { withDesign } from "storybook-addon-designs";
import { HStack } from "@chakra-ui/react";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";
import MultiSelect from "./MultiSelect";
import * as stories from "./MultiSelect.stories.tsx";
import { MultiSelectVariants, MultiSelectWidths } from "./MultiSelectTypes";
import { getStorybookEnumValues } from "../../utils/utils";

export const widthsEnumValues = getStorybookEnumValues(
  MultiSelectWidths,
  "MultiSelectWidths"
);

<Meta
  title={getCategory("MultiSelect")}
  component={MultiSelect}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=43593%3A24611",
    },
    //jest: ["Checkbox.test.tsx"],
  }}
  argTypes={{
    //id: { table: { disable: true } },
    width: {
      control: { type: "select" },
      table: { defaultValue: { summary: "MultiSelectWidths.Default" } },
      options: widthsEnumValues.options,
    },
  }}
/>

# MultiSelect

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.25.0`   |
| Latest            | `0.25.0`   |

<Description of={MultiSelect} />

This component renders a MultiSelect form element.

<Canvas withToolbar>
  <Story
    name="MultiSelect ListBox"
    args={{
      id: "group1",
      label: "Subject Specialities",
      width: "MultiSelectWidths.Default",
    }}
  >
    {(args) => (
      <stories.MultiSelectStory
        {...args}
        width={widthsEnumValues.getValue(args.width)}
      />
    )}
  </Story>
</Canvas>

<ArgsTable story="MultiSelect ListBox" />

<Canvas withToolbar>
  <Story
    name="MultiSelect Dialog"
    args={{
      id: "group1",
      label: "Subject Specialities",
      width: "MultiSelectWidths.Default",
    }}
  >
    {(args) => (
      <stories.MultiSelectDialogStory
        {...args}
        width={widthsEnumValues.getValue(args.width)}
      />
    )}
  </Story>
</Canvas>

<ArgsTable story="MultiSelect Dialog" />
