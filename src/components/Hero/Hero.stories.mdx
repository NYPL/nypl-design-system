import { Box, VStack } from "@chakra-ui/react";
import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from "@storybook/addon-docs";
import { withDesign } from "storybook-addon-designs";

import Heading from "../Heading/Heading";
import { HeadingLevels } from "../Heading/HeadingTypes";
import Hero from "./Hero";
import { HeroTypes, HeroSecondaryTypes } from "./HeroTypes";
import { getCategory } from "../../utils/componentCategories";
import DSProvider from "../../theme/provider";
import { getStorybookEnumValues } from "../../utils/utils";

export const enumValues = getStorybookEnumValues(HeroTypes, "HeroTypes");

<Meta
  title={getCategory("Hero")}
  component={Hero}
  decorators={[withDesign]}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=36817%3A23704",
    },
    jest: ["Hero.test.tsx"],
  }}
  argTypes={{
    backgroundColor: { control: false },
    foregroundColor: { control: false },
    heading: { control: false },
    heroType: {
      control: { type: "select" },
      table: { defaultValue: { summary: "HeroTypes.Primary" } },
      options: enumValues.options,
    },
    imageAlt: { control: false },
    imageSrc: { control: false },
    locationDetails: { control: false },
    subHeaderText: { control: false },
  }}
/>

export const secondarySubHeaderText = (
  <>
    Explore our collection of hundreds of online resources and databases. Use
    our free online content to help with your research, whether it's finding a
    single article, tracing a family tree, learning a new language, or anything
    in between.
  </>
);
export const otherSubHeaderText =
  "With 92 locations across the Bronx, Manhattan, and Staten Island, The New York Public Library is an essential part of neighborhoods across the city. Visit us today.";
const imageAlt = "Image example";
const imageSrc = "https://placeimg.com/800/400/animals";

# Hero

| Component Version | DS Version |
| ----------------- | ---------- |
| Added             | `0.2.0`    |
| Latest            | `0.25.12`  |

## Table of Contents

- [Overview](#overview)
- [Component Props](#component-props)
- [Accessibility](#accessibility)
- [Color Variations for Secondary Hero](#color-variations-for-secondary-hero)
- [All Variations](#all-variations)

## Overview

<Description of={Hero} />

The `Hero` component is used to display a full width banner at the top of a page.
The `Hero` will contain a required `h1` page title and may also include optional
descriptive text and images.

## Component Props

<Canvas withToolbar>
  <Story
    name="Hero with Controls"
    args={{
      backgroundColor: undefined,
      backgroundImageSrc: undefined,
      foregroundColor: undefined,
      heading: undefined,
      heroType: "HeroTypes.Primary",
      imageAlt: undefined,
      imageSrc: undefined,
      locationDetails: undefined,
      subHeaderText: undefined,
    }}
  >
    {(args) =>
      (args.heroType === "HeroTypes.Primary" && (
        <Hero
          {...args}
          backgroundImageSrc="https://placeimg.com/2400/800/nature"
          heading={
            <Heading level={HeadingLevels.One} id="1" text="Hero Primary" />
          }
          heroType={enumValues.getValue(args.heroType)}
          subHeaderText="Example Subtitle"
        />
      )) ||
      (HeroSecondaryTypes.includes(enumValues.getValue(args.heroType)) && (
        <div className="nypl--books-and-more">
          <Hero
            {...args}
            heading={
              <Heading level={HeadingLevels.One} id="1" text="Hero Secondary" />
            }
            heroType={enumValues.getValue(args.heroType)}
            imageAlt={args.imageAlt}
            imageSrc={args.imageSrc}
            subHeaderText={secondarySubHeaderText}
          />
        </div>
      )) ||
      (args.heroType === "HeroTypes.Tertiary" && (
        <Hero
          {...args}
          heading={
            <Heading level={HeadingLevels.One} id="1" text="Hero Tertiary" />
          }
          heroType={enumValues.getValue(args.heroType)}
          subHeaderText={otherSubHeaderText}
        />
      )) ||
      (args.heroType === "HeroTypes.Campaign" && (
        <Hero
          {...args}
          backgroundImageSrc="https://placeimg.com/2400/800/nature"
          heading={
            <Heading level={HeadingLevels.One} id="1" text="Hero Campaign" />
          }
          heroType={enumValues.getValue(args.heroType)}
          imageAlt={args.imageAlt}
          imageSrc={args.imageSrc}
          subHeaderText={otherSubHeaderText}
        />
      )) ||
      (args.heroType === "HeroTypes.FiftyFifty" && (
        <Hero
          {...args}
          heroType={enumValues.getValue(args.heroType)}
          imageAlt={args.imageAlt}
          imageSrc={args.imageSrc}
          subHeaderText={otherSubHeaderText}
        />
      ))
    }
  </Story>
</Canvas>

<ArgsTable story="Hero with Controls" />

## Accessibility

The `Hero` component is commonly used as a banner below the page's header and
breadcrumbs and above the main content. This means that if the `Hero` displays
a heading element, it should be the first on the page and an `h1` element set
through `Heading`'s `level={HeadingLevels.One}`.

## Color Variations for Secondary Hero

The background color for the title bar in the "Secondary" `Hero` changes based
on the `HeroTypes` variants for the `Secondary` main variant.

```jsx
// Example `HeroTypes` "Secondary" variant.
<Hero heroType={HeroTypes.SecondaryBooksAndMore} {...props} />
```

<Canvas>
  <Story name="Color Variations for Secondary Hero">
    <VStack spacing={10} align="stretch">
      <Heading
        id="main-secondary-heading"
        level={HeadingLevels.Two}
        text="HeroTypes.Secondary"
      />
      <Hero
        image={image}
        heading={
          <Heading
            level={HeadingLevels.One}
            id="main-secondary-hero"
            text="Secondary"
          />
        }
        heroType={HeroTypes.Secondary}
        subHeaderText={secondarySubHeaderText}
      />
      <Heading
        id="books-heading"
        level={HeadingLevels.Two}
        text="HeroTypes.SecondaryBooksAndMore"
      />
      <Hero
        heading={
          <Heading
            level={HeadingLevels.One}
            id="books-hero"
            text="Books and More"
          />
        }
        heroType={HeroTypes.SecondaryBooksAndMore}
        imageAlt={imageAlt}
        imageSrc={imageSrc}
        subHeaderText={secondarySubHeaderText}
      />
      <Heading
        id="location-heading"
        level={HeadingLevels.Two}
        text="HeroTypes.SecondaryLocations"
      />
      <Hero
        heading={
          <Heading
            level={HeadingLevels.One}
            id="locations-hero"
            text="Locations"
          />
        }
        heroType={HeroTypes.SecondaryLocations}
        imageAlt={imageAlt}
        imageSrc={imageSrc}
        subHeaderText={secondarySubHeaderText}
      />
      <Heading
        id="research-heading"
        level={HeadingLevels.Two}
        text="HeroTypes.SecondaryResearch"
      />
      <Hero
        heading={
          <Heading
            level={HeadingLevels.One}
            id="research-hero"
            text="Research"
          />
        }
        heroType={HeroTypes.SecondaryResearch}
        imageAlt={imageAlt}
        imageSrc={imageSrc}
        subHeaderText={secondarySubHeaderText}
      />
      <Heading
        id="whats-on-heading"
        level={HeadingLevels.Two}
        text="HeroTypes.SecondaryWhatsOn"
      />
      <Hero
        heading={
          <Heading
            level={HeadingLevels.One}
            id="whats-on-hero"
            text="What's On"
          />
        }
        heroType={HeroTypes.SecondaryWhatsOn}
        imageAlt={imageAlt}
        imageSrc={imageSrc}
        subHeaderText={secondarySubHeaderText}
      />
    </VStack>
  </Story>
</Canvas>

## All Variations

<Canvas>
  <DSProvider>
    <VStack spacing={10} align="stretch">
      <Heading level={HeadingLevels.Two} text="Primary" id="primary-heading" />
      <Hero
        backgroundImageSrc="https://placeimg.com/1600/800/arch"
        heading={
          <Heading
            level={HeadingLevels.One}
            id="primary-hero"
            text="Hero Primary"
          />
        }
        heroType={HeroTypes.Primary}
      />
      <Heading
        id="secondary-heading"
        level={HeadingLevels.Two}
        text="Secondary"
      />
      <div className="nypl--locations">
        <Hero
          heading={
            <Heading
              level={HeadingLevels.One}
              id="secondary-hero"
              text="Hero Secondary"
            />
          }
          heroType={HeroTypes.Secondary}
          imageAlt={imageAlt}
          imageSrc={imageSrc}
          subHeaderText={secondarySubHeaderText}
        />
      </div>
      <Heading
        id="tertiary-heading"
        level={HeadingLevels.Two}
        text="Tertiary"
      />
      <Hero
        heading={
          <Heading
            level={HeadingLevels.One}
            id="tertiary-hero"
            text="Hero Tertiary with Sub-Header"
          />
        }
        heroType={HeroTypes.Tertiary}
        subHeaderText={otherSubHeaderText}
      />
      <Hero
        heading={
          <Heading
            level={HeadingLevels.One}
            id="tertiary-hero"
            text="Hero Tertiary without Sub-Header"
          />
        }
        heroType={HeroTypes.Tertiary}
      />
      <Heading
        id="campaign-heading"
        level={HeadingLevels.Two}
        text="Campaign"
      />
      <Hero
        backgroundImageSrc="https://placeimg.com/2400/800/nature/grayscale"
        heroType={HeroTypes.Campaign}
        heading={
          <Heading
            level={HeadingLevels.One}
            id="campaign-hero"
            text="Hero Campaign"
          />
        }
        imageAlt={imageAlt}
        imageSrc={imageSrc}
        subHeaderText={otherSubHeaderText}
      />
      <Box marginTop="30px" />
      <Heading
        id="fiftyfifty-heading"
        level={HeadingLevels.Two}
        text="FiftyFifty"
      />
      <Hero
        heroType={HeroTypes.FiftyFifty}
        imageAlt={imageAlt}
        imageSrc={imageSrc}
        subHeaderText={otherSubHeaderText}
      />
    </VStack>
  </DSProvider>
</Canvas>
