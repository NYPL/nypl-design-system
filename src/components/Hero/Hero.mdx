import {
  ArgTypes,
  Canvas,
  Description,
  Meta,
  Source,
  Story,
} from "@storybook/blocks";

import ComponentChangelogTable from "../../utils/ComponentChangelogTable";
import * as HeroStories from "./Hero.stories";
import { changelogData } from "./heroChangelogData";
import Link from "../Link/Link";

<Meta of={HeroStories} />

# Hero

| Component Version | DS Version   |
| ----------------- | ------------ |
| Added             | `0.2.0`      |
| Latest            | `Prerelease` |

## Table of Contents

- {<Link href="#overview" target="_self">Overview</Link>}
- {<Link href="#component-props" target="_self">Component Props</Link>}
- {<Link href="#accessibility" target="_self">Accessibility</Link>}
- {<Link href="#active-variants" target="_self">Active Variants</Link>}
- {<Link href="#text-colors" target="_self">Text Colors</Link>}
- {<Link href="#custom-image-component" target="_self">Custom Image Component</Link>}
- {<Link href="#fallback-campaign-image" target="_self">Fallback Campaign Image</Link>}
- {<Link href="#deprecated-variants" target="_self">Deprecated Variants</Link>}
- {<Link href="#color-variations-for-secondary-hero" target="_self">Color Variations for Secondary Hero</Link>}
- {<Link href="#changelog" target="_self">Changelog</Link>}

## Overview

<Description of={HeroStories} />

The `Hero` component is used to display a full width banner at the top of a page.
The `Hero` will contain a required `h1` page title and may also include optional
descriptive text and images.

There are currently three main hero types: `"primary"`, `"tertiary"`, and
`"campaign"`.

Two hero types have been deprecated: `"secondary"` and `"fiftyFifty"`. The
deprecated variants will be removed from the DS in a future release.

Under the `"secondary"` hero type, there are four additional subtypes:
`"secondaryBooksAndMore"`, `"secondaryLocations"`, `"secondaryResearch"`, and
`"secondaryWhatsOn"`.

For the variations that use image `alt`, `fallbackSrc`, `onError`, and `src`
properties, the `imageProps` prop should be used:

<Source
  code={`
<Hero
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_243025&t=w"
  heroType="campaign"
  heading={<Heading level="h1" id="campaign-hero" text="Hero Campaign" />}
  imageProps={{
    alt: "Image example",
    fallbackSrc: "https://images.nypl.org/index.php?id=swope_244712&t=w",
    onError: (_event) => console.log("Image failed to load") },
    src: "https://images.nypl.org/index.php?id=swope_243048&t=w",
  }}
  subHeaderText="Campaign Hero Subheader Text"
/>
`}
  language="jsx"
/>

Note: the `imageProps` prop is not the same as the `backgroundImageSrc` prop
used for some variations. For a full list of what props to use for each variant,
check the <Link href="#active-variants" target="_self">Active Variants</Link>
section.

## Component Props

<Canvas of={HeroStories.WithControls} />

<ArgTypes of={HeroStories.WithControls} />

## Accessibility

The `Hero` component is commonly used as a banner below the page's header and
breadcrumbs and above the main content. This means that if the `Hero` displays
a heading element, it should be the first on the page and an `h1` element set
through `Heading`'s `level="h1"`.

## Active Variants

Each `Hero` variation can be rendered through the `heroType` prop.

### Primary

The `"primary"` hero type can be used with the `backgroundColor`, `backgroundImageSrc`,
`foregroundColor`, `heading`, `locationDetails`, and `subHeaderText` props. The
minimum props that should be used are `backgroundImageSrc` and `heading`.

<Story of={HeroStories.Primary} />

<Source
  code={`
<Hero
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_244712&t=w"
  heading={
    <Heading
      id="primary-hero"
      level="h1"
      noSpace
      overline="Hero Example"
      subtitle="Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Donec sed odio dui. Vestibulum id ligula porta felis euismod semper. Aenean eu leo quam."
      text="Hero Primary"
    />
  }
  heroType="primary"
/>
`}
  language="jsx"
/>

### Tertiary

The `"tertiary"` hero type can be used with the `backgroundColor`, `foregroundColor`,
`heading`, and `subHeaderText` props. The minimum prop to use is the `heading`
prop.

<Story of={HeroStories.Tertiary} />

<Source
  code={`
<Hero
  heading={
    <Heading
      level="h1"
      id="tertiary-hero-subtitle-subheading"
      size="heading2"
      subtitle="This is the subtitle"
      text="Hero Tertiary with Subtitle & Sub-Heading"
    />
  }
  heroType="tertiary"
  subHeaderText={
    <>
      With 92 locations across the Bronx, Manhattan, and Staten Island,{" "}
      <Link href="https://www.nypl.org/locations/snfl/childrens">
        The New York Public Library
      </Link>{" "}
      is an essential part of neighborhoods across the city. Visit us today.
    </>
  }
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  heading={
    <Heading
      level="h1"
      id="tertiary-hero-subheading"
      size="heading2"
      text="Hero Tertiary with Sub-Heading"
    />
  }
  heroType="tertiary"
  subHeaderText={
    <>
      With 92 locations across the Bronx, Manhattan, and Staten Island,{" "}
      <Link href="https://www.nypl.org/locations/snfl/childrens">
        The New York Public Library
      </Link>{" "}
      is an essential part of neighborhoods across the city. Visit us today.
    </>
  }
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  heading={
    <Heading
      level="h1"
      id="tertiary-hero"
      size="heading2"
      text="Hero Tertiary without Additional Elements"
    />
  }
  heroType="tertiary"
/>
`}
  language="jsx"
/>

### Campaign

The `"campaign"` hero type can be used with the `backdropBackgroundColor`,
`backgroundColor`, `backgroundImageSrc`, `foregroundColor`, `heading`,
`imageProps`, and `subHeaderText` props. The minimum props to use are
`backgroundImageSrc`, `heading`, and `imageProps`.

This variant has the special use case of having a background and foreground. We
do understand that the naming can be confusing, but it helps to think of this
variant having two layers. The bottom is the backdrop and the top is the
foreground.

To modify the foreground, the `backgroundColor`, `foregroundColor`, `imageProps`
props should be used.

<Story of={HeroStories.Campaign} />

<Source
  code={`
<Hero
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_244712&t=w"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-default-heading"
      text="Hero Campaign"
    />
  }
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  subHeaderText={
    <>
      With 92 locations across the Bronx, Manhattan, and Staten Island,{" "}
      <Link href="https://www.nypl.org/locations/snfl/childrens">
        The New York Public Library
      </Link>{" "}
      is an essential part of neighborhoods across the city. Visit us today.
    </>
  }
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_244712&t=w"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-default-heading"
      text="Hero Campaign"
    />
  }
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  subHeaderText={
    <>
      <Heading
        level="h2"
        size="heading3"
        subtitle="Lorem Parturient Bibendum Aenean Cras"
      >
        Subheading
      </Heading>
      <Heading level="h3" noSpace size="heading6">
        Subheading
      </Heading>
      <Text>
        Donec ullamcorper nulla non metus auctor fringilla. Cras mattis elit{" "}
        <Link href="https://www.nypl.org/locations/snfl/childrens">
          The New York Public Library
        </Link>{" "}
        consectetur purus sit amet fermentum. Nulla vitae elit libero, a pharetra
        augue. Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
        Aenean lacinia{" "}
        <Link href="https://google.com" type="external">
          Google
        </Link>{" "}
        bibendum nulla sed consectetur. Vestibulum id ligula porta felis euismod
        semper. Donec sed odio dui. Nullam quis risus eget urna mollis ornare vel
        eu leo.
      </Text>
      <ButtonGroup>
        <Button id="other-button-example-1">Button</Button>
        <Button id="other-button-example-2" buttonType="secondary">
          Button
        </Button>
      </ButtonGroup>
    </>
  }
/>
`}
  language="jsx"
/>
#### isDarkBackgroundImage

The `isDarkBackgroundImage` prop can be used in the `"campaign"` hero to toggle
the visual treatment of the background image. If true, the background image will
be converted to black & white and darkened to 60% black.

<Story of={HeroStories.CampaignDarkBackgroundImage} />

<Source
  code={`
<Hero
  backgroundImageSrc="https://iiif.nypl.org/iiif/2/5164274/full/!900,900/0/default.jpg"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-default-heading"
      text="Hero Campaign"
    />
  }
  imageProps={
    alt: "Image example",
    src: "https://iiif.nypl.org/iiif/2/5164274/full/!900,900/0/default.jpg",
  }
  isDarkBackgroundImage
  subHeaderText={
    <>
      With 92 locations across the Bronx, Manhattan, and Staten Island,{" "}
      <Link href="https://www.nypl.org/locations/snfl/childrens">
        The New York Public Library
      </Link>{" "}
      is an essential part of neighborhoods across the city. Visit us today.
    </>
  }
/>
`}
  language="jsx"
/>

#### backdropBackgroundColor

The "backdrop" is what we call the background and that can be set through either
the `backdropBackgroundColor` or `backgroundImageSrc` props. When both are set,
the `backgroundImageSrc` will take precedence.

<Story of={HeroStories.CampaignBackgroundColors} />

<Source
  code={`
<Hero
  backdropBackgroundColor="section.research.primary"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-long-text-heading"
      text="Hero Campaign"
    />
  }
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  isDarkBackgroundImage
  subHeaderText={
    <>
      With 92 locations across the Bronx, Manhattan, and Staten Island,{" "}
      <Link href="https://www.nypl.org/locations/snfl/childrens">
        The New York Public Library
      </Link>{" "}
      is an essential part of neighborhoods across the city. Visit us today.
    </>
  }
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  backdropBackgroundColor="section.education.primary"
  backgroundColor="ui.warning.primary"
  foregroundColor="ui.typography.heading"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-long-text-heading"
      text="Hero Campaign"
    />
  }
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  isDarkBackgroundImage
  subHeaderText={
    <>
      With 92 locations across the Bronx, Manhattan, and Staten Island,{" "}
      <Link href="https://www.nypl.org/locations/snfl/childrens">
        The New York Public Library
      </Link>{" "}
      is an essential part of neighborhoods across the city. Visit us today.
    </>
  }
/>
`}
  language="jsx"
/>

## Text Colors

By default, the `Hero` component renders a dark background color with light
text. This color treatment can be overridden using a combination of the
`backgroundColor`, `foregroundColor` and `isDarkText` props.

**NOTE:** The `foregroundColor` prop will override the `isDarkText` prop, so they
should not be used at the same time.

<Story of={HeroStories.TextColorStyles} />

{" "}

<Source
  code={`
<Hero
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_244712&t=w"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-default-heading"
      text="Hero Campaign"
    />
  }
  imageProps={imageProps}
  isDarkBackgroundImage
  subHeaderText={otherSubHeaderText}
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  backgroundColor="ui.status.primary"
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_244712&t=w"
  foregroundColor="ui.error.secondary"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-default-heading"
      text="Hero Campaign"
    />
  }
  imageProps={imageProps}
  isDarkBackgroundImage
  subHeaderText={otherSubHeaderText}
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  backgroundColor="ui.status.primary"
  backgroundImageSrc="https://images.nypl.org/index.php?id=swope_244712&t=w"
  heroType="campaign"
  heading={
    <Heading
      level="h1"
      id="campaign-hero-default-heading"
      text="Hero Campaign"
    />
  }
  imageProps={imageProps}
  isDarkBackgroundImage
  isDarkText
  subHeaderText={otherSubHeaderText}
/>
`}
  language="jsx"
/>

## Custom Image Component

Instead of passing a path for the `imageProps.src` prop, you can pass a custom image component in using the `imageProps.component` prop.
Note that in the "campaign" variant, the custom component will only affect the foreground image, since the background image is set using `background-image`.

<Source
  code={`
import Image from "next/image";

const CampaignCustomImageExample = () => {
return (

  <Hero
    heroType="campaign"
    heading={
      <Heading
        level="h1"
        id="campaign-custom-image"
        text="Hero Campaign with Custom Image"
      />
    }
    imageProps={{
      component: (
        <Image
          alt={"Alt text"}
          fill
          src={"/image.jpg""}
          onError={(\_event) => {
          handleError(\_event);
          }}
        />
      ),
    }}
    />
  )
`}
  language="jsx"
/>

<Canvas of={HeroStories.HeroTypesWithCustomImage} />

## Fallback Campaign Image

The `imageProps` prop can be used to set a fallback for the **main** image in
the `"campaign"` variant. The internal `Image` component will use the `onerror`
event to load the `fallbackSrc` image.

The `Hero` component does not use the `Image` component, however, for the
background image. The background image is rendered through the CSS
`background-image` property. This means that more work is needed to set a
fallback for the background image.

The following example demonstrates how to set a fallback image for both the main
image and the background image. Note: this example assumes that both the main
and background images should be the same.

<Source
  code={`
const CampaignFallBackExample = () => {
  const [imageSrc, setImageSrc] = useState("foobar.jpg");
  const fallbackImageSrc = "https://images.nypl.org/index.php?id=swope_244712&t=w";
  return (
    <Hero
      backgroundImageSrc={imageSrc}
      heroType="campaign"
      heading={
        <Heading
          level="h1"
          id="campaign-fallback-image"
          text="Hero Campaign"
        />
      }
      imageProps={{
        alt: "Custom NYPL Image",
        src: imageSrc,
        fallbackSrc: fallbackImageSrc,
        onError: (_event) => {
          setImageSrc(fallbackImageSrc);
        }
      }}
      subHeaderText={otherSubHeaderText}
    />
  );
};
`}
  language="jsx"
/>

<Canvas of={HeroStories.CampaignFallbackImage} />

## Deprecated Variants

### Secondary

This `"secondary"` variant of the `Hero` component has been deprecated. This
variant will be removed from the DS in a future release.

The `"secondary"` hero type can be used with the `heading`, `imageProps`, and
`subHeaderText` props.

<Story of={HeroStories.Secondary} />

<Source
  code={`
<Hero
  heading={
    <Heading
      level="h1"
      id="secondary-hero"
      size="heading2"
      text="Hero Secondary (deprecated)"
    />
  }
  heroType="secondary"
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  isDarkBackgroundImage
  subHeaderText={
    <>
      Explore our <Link href="#">collection</Link> of hundreds of online resources
      and databases. Use our free online content to help with your research,
      whether it's finding a single article, tracing a family tree, learning a new
      language, or anything in between.
      <Text mt="s" noSpace>
        This variant has been deprecated.
      </Text>
    </>
  }
/>
`}
  language="jsx"
/>

### FiftyFifty

This `"fiftyFifty"` variant of the `Hero` component has been deprecated. This
variant will be removed from the DS in a future release.

The `"fiftyFifty"` hero type can be used with the `backgroundColor`,
`foregroundColor`, `heading`, `imageProps`, and `subHeaderText` props. The
minimum props to use are `imageProps` and `subHeaderText`.

**NOTE:** The layout offered in the `fiftyFifty` variant has been replaced by
the [FeaturedContent](../?path=/docs/components-basic-elements-featuredcontent--docs) component.

<Story of={HeroStories.FiftyFifty} />

<Source
  code={`
<Hero
  heroType="fiftyFifty"
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  isDarkBackgroundImage
  subHeaderText={
    <>
      Explore our <Link href="#">collection</Link> of hundreds of online resources
      and databases. Use our free online content to help with your research,
      whether it's finding a single article, tracing a family tree, learning a new
      language, or anything in between.
      <Text mt="s" noSpace>
        This variant has been deprecated.
      </Text>
    </>
  }
/>
`}
  language="jsx"
/>
<Source
  code={`
<Hero
  heroType="fiftyFifty"
  imageProps={
    alt: "Image example",
    src: "https://images.nypl.org/index.php?id=swope_244712&t=w",
  }
  isDarkBackgroundImage
  subHeaderText={
    <>
      <Heading
        level="h2"
        size="heading3"
        subtitle="Lorem Parturient Bibendum Aenean Cras"
      >
        Subheading
      </Heading>
      <Heading level="h3" noSpace size="heading6">
        Subheading
      </Heading>
      <Text>
        Donec ullamcorper nulla non metus auctor fringilla. Cras mattis elit{" "}
        <Link href="https://www.nypl.org/locations/snfl/childrens">
          The New York Public Library
        </Link>{" "}
        consectetur purus sit amet fermentum. Nulla vitae elit libero, a pharetra
        augue. Praesent commodo cursus magna, vel scelerisque nisl consectetur et.
        Aenean lacinia{" "}
        <Link href="https://google.com" type="external">
          Google
        </Link>{" "}
        bibendum nulla sed consectetur. Vestibulum id ligula porta felis euismod
        semper. Donec sed odio dui. Nullam quis risus eget urna mollis ornare vel
        eu leo.
      </Text>
      <ButtonGroup>
        <Button id="other-button-example-1">Button</Button>
        <Button id="other-button-example-2" buttonType="secondary">
          Button
        </Button>
      </ButtonGroup>
      <Text mt="s" noSpace>
        This variant has been deprecated.
      </Text>
    </>
  }
/>
`}
  language="jsx"
/>

## Color Variations for Secondary Hero

This `"secondary"` variant of the `Hero` component has been deprecated. This
variant and the associated color variations will be removed from the DS in a
future release.

The background color for the title bar in the `"secondary"` `Hero` changes based
on the `heroType` variants for the `"secondary"` main variant. There are four
subtypes: `"secondaryBooksAndMore"`, `"secondaryLocations"`, `"secondaryResearch"`,
and `"secondaryWhatsOn"`.

<Source
  code={`
// Example \`heroType\` "secondary" variant.
<Hero heroType="secondaryBooksAndMore" {...props} />
`}
  language="jsx"
/>

<Story of={HeroStories.ColorVariations} />

## Changelog

<ComponentChangelogTable changelogData={changelogData} />
