import{j as o,a as k}from"./emotion-react-jsx-runtime.browser.esm-b12afd4d.js";import{a as y}from"./chunk-OPEUWD42-a3b45fd8.js";import{r as C}from"./index-f2bd0723.js";import{w as G}from"./index-6148c31a.js";import{m as j,M as c}from"./MultiSelect-e1506487.js";import{M as h}from"./MultiSelectGroup-da51fa55.js";import{u as v}from"./useMultiSelect-de2913cb.js";import{l as S}from"./types-5ca2ba04.js";import{V as W}from"./chakra-ui-layout.esm-b2fa9d31.js";const s=[{id:"colors",name:"Colors",items:[{id:"red",name:"Red"},{id:"blue",name:"Blue"},{id:"yellow",name:"Yellow"}]},{id:"pets",name:"Pets",items:[{id:"cat",name:"Cat"},{id:"dog",name:"Dog",children:[{id:"corgy",name:"Corgy"},{id:"german-sheperd",name:"German Sheperd"},{id:"afghan-hound",name:"Afghan Hound"}]},{id:"rat",name:"Rat"}]},{id:"tools",name:"Tools",items:[{id:"hammer",name:"Hammer"},{id:"skrewdriver",name:"Skrewdriver",children:[{id:"slottet",name:"Slotted Skrewdriver"},{id:"phillips",name:"Phillips Skrewdriver"},{id:"allen",name:"Allen Skrewdriver"}]},{id:"whisk",name:"Whisk"}]}],N=r=>{const{onChange:g,onMixedStateChange:l,onClear:m,selectedItems:n}=v(),[e,t]=C.useState("");return C.useEffect(()=>{Object.keys(n).length!==0&&y(e)(n),e==="onClear"&&y(e)(n)},[e,n]),o(h,{...r,children:s&&s.map(a=>o(c,{id:a.id,labelText:a.name,type:"dialog",items:a.items,selectedItems:n,onChange:i=>{g(i.target.id,a.id),t("onChange")},onMixedStateChange:i=>{l(i.target.id,a.id,a.items),t("onMixedStateChange")},onClear:()=>{m(a.id),t("onClear")},onApply:()=>{t("onApply")}},a.id))})},O=()=>{const[r,g]=C.useState({});function l(e,t){let a;if(r[t]!==void 0){let i=r[t].items.indexOf(e)>-1;a=r[t].items.slice(),i?a=a.filter(p=>p!==e):a.push(e)}else a=[],a.push(e);g({...r,[t]:{items:a}})}function m(e,t,a){const i=a.filter(d=>d.id===e)[0].children.map(d=>d.id);let p;r[t]!==void 0?i.every(d=>r[t].items.includes(d))?p=r[t].items.filter(d=>!i.includes(d)):p=[...i,...r[t].items]:p=i,g({...r,[t]:{items:p}})}function n(e){let t={};for(let a of Object.keys(r))a!==e&&(t[a]=r[a]);g(t)}return k(W,{align:"stretch",spacing:"s",children:[o(h,{showLabel:!0,id:"row",labelText:"Row (default)",children:s&&s.map(e=>o(c,{id:e.id,labelText:e.name,type:"dialog",items:e.items,selectedItems:r,onChange:t=>{l(t.target.id,e.id)},onMixedStateChange:t=>m(t.target.id,e.id,e.items),onClear:()=>{n(e.id),y("onClear")({})},onApply:()=>{}},e.id))}),o(h,{showLabel:!0,id:"column",layout:"column",labelText:"Column",children:s&&s.map(e=>o(c,{id:`${e.id}-1`,labelText:e.name,type:"dialog",items:e.items,selectedItems:r,onChange:t=>{l(t.target.id,`${e.id}-1`)},onMixedStateChange:t=>m(t.target.id,`${e.id}-1`,e.items),onClear:()=>{n(`${e.id}-1`)},onApply:()=>{}},`${e.id}-1`))}),o(h,{showLabel:!0,id:"row-full",layout:"row",labelText:"Row (multiSelectWidth 'full')",multiSelectWidth:"full",children:s&&s.map(e=>o(c,{id:`${e.id}-2`,labelText:e.name,type:"dialog",items:e.items,selectedItems:r,onChange:t=>{l(t.target.id,`${e.id}-2`)},onMixedStateChange:t=>m(t.target.id,`${e.id}-2`,e.items),onClear:()=>{n(`${e.id}-2`)},onApply:()=>{}},`${e.id}-2`))}),o(h,{showLabel:!0,id:"column-full",layout:"column",labelText:"Column (multiSelectWidth 'full')",multiSelectWidth:"full",children:s&&s.map(e=>o(c,{id:`${e.id}-3`,labelText:e.name,type:"dialog",items:e.items,selectedItems:r,onChange:t=>{l(t.target.id,`${e.id}-3`)},onMixedStateChange:t=>m(t.target.id,`${e.id}-3`,e.items),onClear:()=>{n(`${e.id}-3`)},onApply:()=>{}},`${e.id}-3`))})]})},_={title:"Components/Form Elements/MultiSelectGroup",component:h,decorators:[G],argTypes:{className:{control:!1},id:{control:!1},layout:{control:{type:"radio"},options:S,table:{defaultValue:{summary:"row"}}},multiSelectWidth:{control:{type:"radio"},options:j,table:{defaultValue:{summary:"default"}}},showLabel:{table:{defaultValue:{summary:!0}}}}},u={args:{className:void 0,id:"multiselect-group",labelText:"Label Text",layout:"row",multiSelectWidth:"default",showLabel:!0},render:r=>o(N,{...r}),parameters:{design:{type:"figma",url:"https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=43593%3A24611"},jest:["MultiSelectGroup.test.tsx"]}},f={render:r=>o(O,{...r})};var w,b,x,M,T;u.parameters={...u.parameters,docs:{...(w=u.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    className: undefined,
    id: "multiselect-group",
    labelText: "Label Text",
    layout: "row",
    multiSelectWidth: "default",
    showLabel: true
  },
  render: args => <MultiSelectGroupStory {...args} />,
  parameters: {
    design: {
      type: "figma",
      url: "https://www.figma.com/file/qShodlfNCJHb8n03IFyApM/Main?node-id=43593%3A24611"
    },
    jest: ["MultiSelectGroup.test.tsx"]
  }
}`,...(x=(b=u.parameters)==null?void 0:b.docs)==null?void 0:x.source},description:{story:"Main Stories for the MultiSelectGroup component. This must contains the `args`\nand `parameters` properties in this object.",...(T=(M=u.parameters)==null?void 0:M.docs)==null?void 0:T.description}}};var A,$,L;f.parameters={...f.parameters,docs:{...(A=f.parameters)==null?void 0:A.docs,source:{originalSource:`{
  render: args => <MultiSelectGroupLayoutStory {...args} />
}`,...(L=($=f.parameters)==null?void 0:$.docs)==null?void 0:L.source}}};const E=["Controls","LayoutPatterns"],B=Object.freeze(Object.defineProperty({__proto__:null,Controls:u,LayoutPatterns:f,__namedExportsOrder:E,default:_},Symbol.toStringTag,{value:"Module"}));export{u as C,f as L,B as M};
//# sourceMappingURL=MultiSelectGroup.stories-92ec7607.js.map
