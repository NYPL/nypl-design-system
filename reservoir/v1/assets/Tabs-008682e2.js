import{j as S,a as G}from"./emotion-react-jsx-runtime.browser.esm-b12afd4d.js";import{r as u,R as q}from"./index-f2bd0723.js";import{B as J}from"./Button-a3ea41e0.js";import{I as Q}from"./Icon-6616a4b9.js";import{u as me}from"./useNYPLBreakpoints-91c0faa1.js";import{a9 as Z,z as ne,x as ye,n as xe,o as L,u as te,p as Te,v as ge,M as _e,f as E,r as O,N as B,P as ke,y as W,W as Ce,aa as Se,A as N,B as V}from"./chakra-ui-layout.esm-b2fa9d31.js";import{c as De}from"./chakra-ui-descendant.esm-237bc145.js";import{b as we,j as Pe}from"./chakra-ui-hooks.esm-02e82f78.js";function R(){return R=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},R.apply(this,arguments)}function Ie(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}function Ee(){var e=u.useRef(new Map),n=e.current,t=u.useCallback(function(r,s,i,l){e.current.set(i,{type:s,el:r,options:l}),r.addEventListener(s,i,l)},[]),a=u.useCallback(function(r,s,i,l){r.removeEventListener(s,i,l),e.current.delete(i)},[]);return u.useEffect(function(){return function(){n.forEach(function(r,s){a(r.el,r.type,s,r.options)})}},[a,n]),{add:t,remove:a}}var Me=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function H(e){var n=e.target,t=n.tagName,a=n.isContentEditable;return t!=="INPUT"&&t!=="TEXTAREA"&&a!==!0}function Le(e){e===void 0&&(e={});var n=e,t=n.ref,a=n.isDisabled,r=n.isFocusable,s=n.clickOnEnter,i=s===void 0?!0:s,l=n.clickOnSpace,c=l===void 0?!0:l,d=n.onMouseDown,b=n.onMouseUp,v=n.onClick,x=n.onKeyDown,y=n.onKeyUp,k=n.tabIndex,p=n.onMouseOver,T=n.onMouseLeave,_=Ie(n,Me),D=u.useState(!0),f=D[0],g=D[1],h=u.useState(!1),I=h[0],P=h[1],C=Ee(),z=function(w){w&&w.tagName!=="BUTTON"&&g(!1)},ce=f?k:k||0,F=a&&!r,Y=u.useCallback(function(o){if(a){o.stopPropagation(),o.preventDefault();return}var w=o.currentTarget;w.focus(),v==null||v(o)},[a,v]),A=u.useCallback(function(o){I&&H(o)&&(o.preventDefault(),o.stopPropagation(),P(!1),C.remove(document,"keyup",A,!1))},[I,C]),ue=u.useCallback(function(o){if(x==null||x(o),!(a||o.defaultPrevented||o.metaKey)&&!(!H(o.nativeEvent)||f)){var w=i&&o.key==="Enter",j=c&&o.key===" ";if(j&&(o.preventDefault(),P(!0)),w){o.preventDefault();var he=o.currentTarget;he.click()}C.add(document,"keyup",A,!1)}},[a,f,x,i,c,C,A]),de=u.useCallback(function(o){if(y==null||y(o),!(a||o.defaultPrevented||o.metaKey)&&!(!H(o.nativeEvent)||f)){var w=c&&o.key===" ";if(w){o.preventDefault(),P(!1);var j=o.currentTarget;j.click()}}},[c,f,a,y]),U=u.useCallback(function(o){o.button===0&&(P(!1),C.remove(document,"mouseup",U,!1))},[C]),fe=u.useCallback(function(o){if(!Z(o)){if(a){o.stopPropagation(),o.preventDefault();return}f||P(!0);var w=o.currentTarget;w.focus({preventScroll:!0}),C.add(document,"mouseup",U,!1),d==null||d(o)}},[a,f,d,C,U]),be=u.useCallback(function(o){Z(o)||(f||P(!1),b==null||b(o))},[b,f]),ve=u.useCallback(function(o){if(a){o.preventDefault();return}p==null||p(o)},[a,p]),pe=u.useCallback(function(o){I&&(o.preventDefault(),P(!1)),T==null||T(o)},[I,T]),X=ne(t,z);return f?R({},_,{ref:X,type:"button","aria-disabled":F?void 0:a,disabled:F,onClick:Y,onMouseDown:d,onMouseUp:b,onKeyUp:y,onKeyDown:x,onMouseOver:p,onMouseLeave:T}):R({},_,{ref:X,role:"button","data-active":ye(I),"aria-disabled":a?"true":void 0,tabIndex:F?void 0:ce,onClick:Y,onMouseDown:fe,onMouseUp:be,onKeyUp:de,onKeyDown:ue,onMouseOver:ve,onMouseLeave:pe})}function m(){return m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},m.apply(this,arguments)}function M(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}var Oe=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],ze=["isDisabled","isFocusable"],Ne=["isSelected","id","children"],K=De(),Re=K[0],Be=K[1],Ke=K[2],$e=K[3];function Fe(e){var n=e.defaultIndex,t=e.onChange,a=e.index,r=e.isManual,s=e.isLazy,i=e.lazyBehavior,l=i===void 0?"unmount":i,c=e.orientation,d=c===void 0?"horizontal":c,b=e.direction,v=b===void 0?"ltr":b,x=M(e,Oe),y=u.useState(n??0),k=y[0],p=y[1],T=we({defaultValue:n??0,value:a,onChange:t}),_=T[0],D=T[1];u.useEffect(function(){a!=null&&p(a)},[a]);var f=Ke(),g=Pe(e.id,"tabs");return{id:g,selectedIndex:_,focusedIndex:k,setSelectedIndex:D,setFocusedIndex:p,isManual:r,isLazy:s,lazyBehavior:l,orientation:d,descendants:f,direction:v,htmlProps:x}}var re=xe({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),Ae=re[0],$=re[1];function Ue(e){var n=$(),t=n.focusedIndex,a=n.orientation,r=n.direction,s=Be(),i=u.useCallback(function(l){var c,d=function(){var h=s.nextEnabled(t);h&&N(h.node)},b=function(){var h=s.prevEnabled(t);h&&N(h.node)},v=function(){var h=s.firstEnabled();h&&N(h.node)},x=function(){var h=s.lastEnabled();h&&N(h.node)},y=a==="horizontal",k=a==="vertical",p=ke(l),T=r==="ltr"?"ArrowLeft":"ArrowRight",_=r==="ltr"?"ArrowRight":"ArrowLeft",D=(c={},c[T]=function(){return y&&b()},c[_]=function(){return y&&d()},c.ArrowDown=function(){return k&&d()},c.ArrowUp=function(){return k&&b()},c.Home=v,c.End=x,c),f=D[p];f&&(l.preventDefault(),f(l))},[s,t,a,r]);return m({},e,{role:"tablist","aria-orientation":a,onKeyDown:W(e.onKeyDown,i)})}function je(e){var n=e.isDisabled,t=e.isFocusable,a=M(e,ze),r=$(),s=r.setSelectedIndex,i=r.isManual,l=r.id,c=r.setFocusedIndex,d=r.selectedIndex,b=$e({disabled:n&&!t}),v=b.index,x=b.register,y=v===d,k=function(){s(v)},p=function(){c(v);var f=n&&t,g=!i&&!f;g&&s(v)},T=Le(m({},a,{ref:ne(x,e.ref),isDisabled:n,isFocusable:t,onClick:W(e.onClick,k)})),_="button";return m({},T,{id:se(l,v),role:"tab",tabIndex:y?0:-1,type:_,"aria-selected":y,"aria-controls":oe(l,v),onFocus:n?void 0:W(e.onFocus,p)})}function Ve(e){var n=$(),t=n.id,a=n.selectedIndex,r=Ce(e.children),s=r.map(function(i,l){return u.cloneElement(i,{isSelected:l===a,id:oe(t,l),"aria-labelledby":se(t,l)})});return m({},e,{children:s})}function He(e){var n=e.isSelected,t=e.id,a=e.children,r=M(e,Ne),s=$(),i=s.isLazy,l=s.lazyBehavior,c=u.useRef(!1);n&&(c.current=!0);var d=Se({hasBeenSelected:c.current,isSelected:n,isLazy:i,lazyBehavior:l});return m({tabIndex:0},r,{children:d?a:null,role:"tabpanel",hidden:!n,id:t})}function se(e,n){return e+"--tab-"+n}function oe(e,n){return e+"--tabpanel-"+n}var We=["children","className"],qe=["htmlProps","descendants"],Ye=L(function(e,n){var t=te("Tabs",e),a=Te(e),r=a.children,s=a.className,i=M(a,We),l=Fe(i),c=l.htmlProps,d=l.descendants,b=M(l,qe),v=u.useMemo(function(){return b},[b]),x=ge(c,["isFitted"]);return u.createElement(Re,{value:d},u.createElement(Ae,{value:v},u.createElement(_e,{value:t},u.createElement(E.div,m({className:O("chakra-tabs",s),ref:n},x,{__css:t.root}),r))))}),Xe=L(function(e,n){var t=B(),a=je(m({},e,{ref:n})),r=m({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},t.tab);return u.createElement(E.button,m({},a,{className:O("chakra-tabs__tab",e.className),__css:r}))}),ie=L(function(e,n){var t=Ue(m({},e,{ref:n})),a=B(),r=m({display:"flex"},a.tablist);return u.createElement(E.div,m({},t,{className:O("chakra-tabs__tablist",e.className),__css:r}))}),ee=L(function(e,n){var t=He(m({},e,{ref:n})),a=B();return u.createElement(E.div,m({outline:"0"},t,{className:O("chakra-tabs__tab-panel",e.className),__css:a.tabpanel}))}),le=L(function(e,n){var t=Ve(e),a=B();return u.createElement(E.div,m({},t,{width:"100%",ref:n,className:O("chakra-tabs__tab-panels",e.className),__css:a.tabpanels}))});const Ge=(e=0,n=100)=>{const[t,a]=q.useState(0),r=()=>{a(c=>c===0?e-1:c-1)},s=()=>{a(c=>c===e-1?0:c+1)},i=()=>{a(0)},l={transition:"all .5s",marginStart:`-${t*n}%`};return{prevSlide:r,nextSlide:s,carouselStyle:l,goToStart:i}},Je=e=>{window.location.hash=e},Qe=(e,n)=>{const t=[],a=[];return e!=null&&e.length?((e==null?void 0:e.length)>6&&console.warn("NYPL Reservoir Tabs: it is recommended to use no more than six tabs. If more than six tabs are needed, consider other navigational patterns."),e.forEach((r,s)=>{let i;const l=S(Xe,{fontSize:["0",null,"1"],onClick:n?()=>Je(`tab${s+1}`):void 0,children:r.label},s);typeof r.content=="string"?i=S(ee,{dangerouslySetInnerHTML:{__html:r.content}},s):i=S(ee,{children:r.content},s),t.push(l),a.push(i)}),{tabs:[S(ie,{children:t},"list")],panels:[S(le,{children:a},"panels")]}):{tabs:[],panels:[]}},Ze=e=>{const n=[],t=[];return e!=null&&e.length?(e.forEach(a=>{(a.type===ie||a.props.mdxType==="TabList")&&(n.push(a),q.Children.count(a.props.children)>6&&console.warn("NYPL Reservoir Tabs: It is recommended to use no more than six tabs. If more than six tabs are needed, consider other navigational patterns.")),(a.type===le||a.props.mdxType==="TabPanels")&&t.push(a)}),{tabs:n,panels:t}):{tabs:[],panels:[]}},ae=E(u.forwardRef((e,n)=>{var C,z;const{children:t,defaultIndex:a=0,id:r,onChange:s,tabsData:i,useHash:l=!1,...c}=e,d=te("Tabs",{}),b=65,v=40,{isLargerThanSmall:x,isLargerThanMobile:y}=me(),k=x?b:v,{tabs:p,panels:T}=i?Qe(i,l):Ze(t);(p.length===0||T.length===0)&&console.warn("NYPL Reservoir Tabs: Pass data in the `contentData` props or as children.");const _=p[0]?(C=p[0])==null?void 0:C.props:p.props,{prevSlide:D,nextSlide:f,carouselStyle:g,goToStart:h}=Ge((z=_==null?void 0:_.children)==null?void 0:z.length,k);q.useEffect(()=>{y&&h()},[h,y]);const I=S(J,{"aria-label":"Scroll tabs left",id:`tabs-previous-${r}`,onClick:D,__css:{...d.buttonArrows,left:"0"},children:S(Q,{iconRotation:"rotate90",id:`tabs-previous-icon-${r}`,name:"arrow",size:"small",title:"previous arrow"})}),P=S(J,{"aria-label":"Scroll tabs right",id:`tabs-next-${r}`,onClick:f,__css:{...d.buttonArrows,right:"0"},children:S(Q,{iconRotation:"rotate270",id:`tabs-next-icon-${r}`,name:"arrow",size:"small",title:"next arrow"})});return t&&(i!=null&&i.length)&&console.warn("NYPL Reservoir Tabs: Only pass children or data in the `contentData` prop. Do not pass both."),G(Ye,{defaultIndex:a,id:r,isLazy:!0,onChange:s,ref:n,variant:"enclosed",...c,children:[G(V,{__css:d.tablistWrapper,sx:{"&::-webkit-scrollbar":{display:"none"}},children:[I,S(V,{__css:d.carouselParent,children:S(V,{...g,children:p})}),P]}),T]})}));try{ae.displayName="Tabs",ae.__docgenInfo={description:"Renders Chakra's `Tab` component with specific variants, props,\nand controlled styling.",displayName:"Tabs",props:{id:{defaultValue:null,description:"ID that other components can cross reference for accessibility purposes",name:"id",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"The callback function invoked on every tab change event.",name:"onChange",required:!1,type:{name:"(index: number) => any"}},defaultIndex:{defaultValue:null,description:"The index of the tab to display for controlled situations.",name:"defaultIndex",required:!1,type:{name:"number"}},tabsData:{defaultValue:null,description:"Array of data to display",name:"tabsData",required:!1,type:{name:"TabsDataProps[]"}},useHash:{defaultValue:null,description:"Render a hash in the url for each tab. Only available when data is\npassed through the `data` props.",name:"useHash",required:!1,type:{name:"boolean"}}}}}catch{}export{ae as T,ie as a,Xe as b,le as c,ee as d};
//# sourceMappingURL=Tabs-008682e2.js.map
