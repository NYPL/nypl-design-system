{"version":3,"file":"Header-c12f30d3.js","sources":["../../../src/components/DevelopmentGuide/Header.mdx"],"sourcesContent":["import { Meta, Source } from \"@storybook/blocks\";\n\nimport Link from \"../Link/Link\";\n\n<Meta title=\"Development Guide/Header\" />\n\n# Header\n\n## Table of Contents\n\n- {<Link href=\"#overview\" target=\"_self\">Overview</Link>}\n- {<Link href=\"#implementation\" target=\"_self\">Implementation</Link>}\n- {<Link href=\"#accessibility\" target=\"_self\">Accessibility</Link>}\n- {<Link href=\"#skip-navigation\" target=\"_self\">Skip Navigation</Link>}\n- {<Link href=\"#catalog-log-in\" target=\"_self\">Catalog Log In</Link>}\n- {<Link href=\"#search\" target=\"_self\">Search</Link>}\n- {<Link href=\"#navigation\" target=\"_self\">Navigation</Link>}\n- {<Link href=\"#header-log-in-timeout\" target=\"_self\">Header Log In Timeout</Link>}\n\n## Overview\n\nThe NYPL `Header` is the top most feature on NYPL sites. Even though this component\nappears on various NYPL digital applications, it is itself a separate application\nthat gets embedded on said digital applications. This complex component is composed\nusing the Reservoir Design System and contains features for logging in, logging\nout, searching, and navigating the NYPL.org site.\n\n- [NYPL Header Preview](https://ds-header.nypl.org/header)\n- [NYPL Header App Github repo](https://github.com/NYPL/nypl-header-app)\n\nThe `Header` component:\n\n- fetches data from different APIs,\n- uses the DS' `SkipNavigation` component for webpage accessibility,\n- has static NYPL.org navigational links,\n- a log in form for patrons to log into NYPL's [Catalog](https://nypl.na2.iiivega.com/)\n  and [Research Catalog](https://www.nypl.org/research/research-catalog/),\n- a search form for patrons to search the Catalog and across [NYPL.org](https://www.nypl.org/).\n\n## Implementation\n\nThe `Header` should be embedded on an NYPL app through the following code snippet:\n\n<Source\n  code={`\n<style>\n  #header-placeholder {\n    minheight: 70px;\n  }\n  @media screen and (min-width: 1024px) {\n    #header-placeholder {\n      min-height: 230px;\n    }\n  }\n</style>\n<!-- .... -->\n<div id=\"header-placeholder\">\n  <div id=\"nypl-header\"></div>\n  <script\n    type=\"module\"\n    src=\"https://ds-header.nypl.org/header.min.js?containerId=nypl-header\"\n    async\n  ></script>\n</div>\n  `}\n  language=\"html\"\n/>\n\nThe placeholder styles and `div` wrapper are additional elements that are used\nto mitigate the \"jumping\" effect that occurs when the `Header` is loaded on a\npage. The `Header` script is loaded asynchronously and this means that the\n`Header` will render after the rest of the page is rendered and it will push the\nmain content down. The fixed height of the placeholder `div` prevents the main\ncontent from jumping down. Note that we cannot predict the length of the alert\ntext in the banner (in any) and the page may still jump but not by much.\n\n## Accessibility\n\nThe `Header` component contains multiple native HTML elements that work together\nto make the component accessible. It contains:\n\n- Skip navigation - More information about this feature in the following section.\n- Notification `<aside>` HTML element - This landmark element renders NYPL alert\n  messages. Per accessibility guidelines, this element cannot be nested within\n  the `<header>` element, so it is rendered above. More information can be found\n  in the [Notification Accessibility](../?path=/docs/components-feedback-notification--docs#accessibility)\n  section.\n- `<header>` HTML element - This landmark element denotes the top content section\n  of the page. There should only be one main `<header>` element on the page as a\n  child of the `<body>` element.\n- `<nav>` HTML elements - The `Header` component renders one (1) `<nav>` element\n  in the mobile view and two (2) `<nav>` elements in the desktop view. Each `<nav>`\n  element appropriately contains its own `aria-label` attribute to differentiate\n  it from one another.\n- `<form>` HTML element - The `<form>` element is used in the search feature.\n- Dropdowns buttons with focus-trap feature - The `Header` uses `react-focus-lock`\n  to trap (or loop) focus within its various dropdowns: the login submenu, the\n  search form, and the mobile navigation submenu. This is to make keyboard\n  navigation easier for users. Trapping focus means that when a parent element is\n  clicked and its dropdown becomes visible, focus remains among its children\n  while the user tabs. The user may close the dropdown and escape the focus trap\n  by clicking on the parent element once again, or by using the escape key.\n  Note: This is how the original NYPL `Header` was implemented and its Reservoir\n  counterpart replicates this behavior. However, this is not the\n  _currently recommended_ way to implement focus management in dropdowns.\n  According to the [W3C](https://www.w3.org/wiki/MenuButton), up and down arrow\n  keys, rather than tab, should loop focus over child elements. Tabbing should\n  instead close the dropdown and move focus to the following parent. In the\n  future, we hope to change the Reservoir Header to align with current best\n  practices.\n\nResources:\n\n- [MDN header](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/header#page_header)\n- [W3C Page Regions, Page header](https://www.w3.org/WAI/tutorials/page-structure/regions/#page-header)\n- [W3C Page Regions, Navigation](https://www.w3.org/WAI/tutorials/page-structure/regions/#navigation)\n- [MDN nav: The Navigation Section element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/nav)\n- [W3C Labeling Regions](https://www.w3.org/WAI/tutorials/page-structure/labels/)\n- [MDN form: The Form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form)\n- [W3C MenuButton](https://www.w3.org/wiki/MenuButton)\n\n## Skip Navigation\n\nThe `Header` component implements the DS `SkipNavigation` component. More\ninformation about the component can be found in the\n[Storybook documentation](../?path=/docs/components-navigation-skipnavigation--docs)\nand why we should use it in its\n[accessibility guideline](../?path=/docs/accessibility-guide-skip-navigation--docs).\n\nIt is important to note that the `SkipNavigation` component expects that the page\nit is on has a `main` HTML element with an `id` of `mainContent`. This allows\nthe first link in the skip navigation to function correctly.\n\nThe second link in the skip navigation points to\n[NYPL's accessibility resource](https://www.nypl.org/accessibility).\n\n### TemplateAppContainer\n\nThe DS [`TemplateAppContainer`](../?path=/docs/components-page-layout-template--docs)\ncomponent renders the same `SkipNavigation` component that the `Header` component\nrenders. When using both the `Header` and the `TemplateAppContainer` components,\nset the `renderSkipNavigation` prop in the `TemplateAppContainer` component to\n`false`. This will prevent two `SkipNavigation` components from being rendered.\n\n## Catalogs Log In\n\nWhile the `Header` doesn't perform authentication, it does determine whether a user is\nlogged in and, if they are, renders a logged in UI, which includes the patron's name.\n\nThis process begins after the `Header` mounts. At that time, it looks for the\n`nyplIdentityPatron` cookie. If it exists, an `accessToken` is extracted from the cookie\nand sent via fetch request to the `patronApiUrl`. If the request is successful, the\npatron's name is returned. The name is then stored in a React Context variable called\n`HeaderContext`, which is available to all children of the `Header`. The existence of the\npatron's name in `HeaderContext` causes the `HeaderLoginButton` and `HeaderLogin` to\nrender their \"logged in\" view.\n\nThere is the possibility that the call to the `patronApiUrl` returns a response with a\n`statusCode` of 401 and an `expired` key set to true. This means the `accessToken` is\nexpired. If this is the case, the `Header` will attempt to refresh the `accessToken` by\nsending a fetch request to the `tokenRefreshLink`. If successful, the `Header` will retry\nthe request to the `patronApiUrl` with the new `accessToken`.\n\n### Mobile\n\nIn the mobile view, the \"log in\" feature can be seen when the user SVG icon\ndropdown button is clicked. The user unfilled SVG icon signifies that the patron\nis not logged in while the user filled SVG icon signifies that the patron is\nlogged in.\n\nWhen opened, the dropdown menu will contain two red buttons that will direct the\nuser to the Catalog or the Research Catalog login pages.\n\nWhen logged in, the dropdown menu will also display the patron's name and an\nadditional \"logout\" link.\n\n### Desktop\n\nIn the desktop view, the \"log in\" feature is the first dropdown button in the top\nnavigation of the `Header`. When opened, the dropdown menu will display two\nrounded blue buttons that will direct the user to the Catalog or the Research\nCatalog login pages.\n\nWhen logged in, the dropdown button's text will turn from \"Log In\" to\n\"My Account\". The dropdown menu will display the patron's name and an additional\n\"logout\" link.\n\n## Search\n\nThere is a single search form in the `Header` component that can be used to\nsearch in two separate locations: the Library Catalog or the NYPL.org website.\nWhen using the search form, a patron can choose which location to search.\n\nWhen looking for an item, such as book, ebook, DVD, etc, the best search location\nis the Library Catalog. For example, please see the\n[Catalog search](https://nypl.na2.iiivega.com/search?query=cats&searchType=everything&pageSize=10)\nfor items about cats. This returns books, microform format items, and DVDs\nabout cats.\n\nWhen searching for general information about the Library, events, or locations,\nthe NYPL.org website is the best search location. For example, please see the\n[NYPL.org search](https://www.nypl.org/search/cats?searched_from=header_search&timestamp=1658412778392)\nfor information about cats at NYPL. This returns blogs and cat related items\nfrom the NYPL Shop.\n\n### Mobile\n\nIn the mobile view, the patron needs to click on the search icon button for the\nsearch form dropdown to appear. The search form will contain a single search\ninput field and two buttons, one for the Catalog and one for the NYPL.org website.\nThe expected behavior is for the user to fill out the form and click on a button\nto search the appropriate location.\n\n### Desktop\n\nIn the desktop view, the patron needs to click on the \"Search\" button with the\nsearch icon for the dropdown to appear. The search form will contain the single\nsearch input field, two radio buttons to toggle between the Catalog and NYPL.org\nwebsite, and a search button. The expected behavior is for the user to fill out\nthe form, choose the appropriate location, and click on the search button or\npress enter to submit the form.\n\n## Navigation\n\nThere are two main navigational lists in the `Header` component. The (1) first\ncontains:\n\n- the log in dropdown button\n- a link to the NYPL [Locations page](https://www.nypl.org/locations)\n- a link to the NYPL [Library card](https://www.nypl.org/library-card) information\n- a link to NYPL's email subscription service\n- a link to donate to NYPL\n- a link to NYPL's Shop\n\nThe (2) second navigational list contains:\n\n- a link to NYPL's [Books/Music/Movies](https://www.nypl.org/books-music-movies) page\n- a link to NYPL's [Research](https://www.nypl.org/research) page\n- a link to NYPL's [Education](https://www.nypl.org/education) page\n- a link to NYPL's [Events](https://www.nypl.org/events) page\n- a link to NYPL's [Connect](https://www.nypl.org/connect) page\n- a link to NYPL's [Give](https://www.nypl.org/give) page\n- a link to NYPL's [Get Help](https://www.nypl.org/get-help) page\n- the search dropdown button\n\n### Mobile\n\nIn the mobile view, the patron needs to click on the hamburger menu icon button\nfor the navigation dropdown to appear. This dropdown contains the (2) NYPL\nwebsite navigation links, and the first list of links (1) are now rendered\nas buttons in a grid.\n\nThe location link, the log in dropdown button, and the search dropdown button,\nare rendered differently in the mobile view and not in the navigational list.\nThe location link and the log in and search dropdown buttons, are now part of\nthe four SVG icon button links.\n\n### Desktop\n\nIn the desktop view, the first set of links (1) appears horizontally at the top\nwhile the second set of links (2) appears at the bottom of the `Header`.\n\n## Header Log In Timeout\n\nThere are occassions when a patron may log out directly from either the Catalog\nor the Research Catalog, or log out by using the log out link in the `Header`\ncomponent. Because of this, there is a mismatch where one or more service\n_thinks_ the patron is still logged in. In order to avoid confusion, the `Header`\ncomponent performs an extra step to log the patron out completely.\n\nNYPL's Encore Catalog does not provide a way to programmatically log out a\npatron, such as through an API endpoint. Due to this limitation, there is a\ncurrent workaround for logging out a patron in the `Header` component.\n\nWhen a patron logs into the Catalog or the Research Catalog, a 30 minute timer\nwill start in the `Header` component. Once this timer reaches 0, the Header will\ninsert an `iframe` HTML element into the `body` HTML element of the webpage.\nThis `iframe`'s `src` attribute is set to the necessary Encore Catalog logout\nlink. This `iframe` element has a style of `display: none` so it is not visible.\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Link","Source","MDXContent","MDXLayout"],"mappings":"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"}