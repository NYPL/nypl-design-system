{"version":3,"file":"chakra-ui-portal.esm-c70f6466.js","sources":["../../../node_modules/@chakra-ui/portal/dist/chakra-ui-portal.esm.js"],"sourcesContent":["import { __DEV__, isBrowser } from '@chakra-ui/utils';\nimport { createContext } from '@chakra-ui/react-utils';\nimport * as React from 'react';\nimport { useForceUpdate, useSafeLayoutEffect } from '@chakra-ui/hooks';\nimport { createPortal } from 'react-dom';\n\nvar _createContext$1 = createContext({\n  strict: false,\n  name: \"PortalManagerContext\"\n}),\n    PortalManagerContextProvider = _createContext$1[0],\n    usePortalManager = _createContext$1[1];\nfunction PortalManager(props) {\n  var children = props.children,\n      zIndex = props.zIndex;\n  return /*#__PURE__*/React.createElement(PortalManagerContextProvider, {\n    value: {\n      zIndex: zIndex\n    }\n  }, children);\n}\n\nif (__DEV__) {\n  PortalManager.displayName = \"PortalManager\";\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"containerRef\"];\n\nvar _createContext = createContext({\n  strict: false,\n  name: \"PortalContext\"\n}),\n    PortalContextProvider = _createContext[0],\n    usePortalContext = _createContext[1];\n\nvar PORTAL_CLASSNAME = \"chakra-portal\";\nvar PORTAL_SELECTOR = \".chakra-portal\";\n\nvar Container = function Container(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chakra-portal-zIndex\",\n    style: {\n      position: \"absolute\",\n      zIndex: props.zIndex,\n      top: 0,\n      left: 0,\n      right: 0 // NB: Don't add `bottom: 0`, it makes the entire app unusable\n      // @see https://github.com/chakra-ui/chakra-ui/issues/3201\n\n    }\n  }, props.children);\n};\n/**\n * Portal that uses `document.body` as container\n */\n\n\nvar DefaultPortal = function DefaultPortal(props) {\n  var appendToParentPortal = props.appendToParentPortal,\n      children = props.children;\n  var tempNode = React.useRef(null);\n  var portal = React.useRef(null);\n  var forceUpdate = useForceUpdate();\n  var parentPortal = usePortalContext();\n  var manager = usePortalManager();\n  useSafeLayoutEffect(function () {\n    if (!tempNode.current) return;\n    var doc = tempNode.current.ownerDocument;\n    var host = appendToParentPortal ? parentPortal != null ? parentPortal : doc.body : doc.body;\n    if (!host) return;\n    portal.current = doc.createElement(\"div\");\n    portal.current.className = PORTAL_CLASSNAME;\n    host.appendChild(portal.current);\n    forceUpdate();\n    var portalNode = portal.current;\n    return function () {\n      if (host.contains(portalNode)) {\n        host.removeChild(portalNode);\n      }\n    };\n  }, []);\n\n  var _children = manager != null && manager.zIndex ? /*#__PURE__*/React.createElement(Container, {\n    zIndex: manager == null ? void 0 : manager.zIndex\n  }, children) : children;\n\n  return portal.current ? /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(PortalContextProvider, {\n    value: portal.current\n  }, _children), portal.current) : /*#__PURE__*/React.createElement(\"span\", {\n    ref: tempNode\n  });\n};\n\n/**\n * Portal that uses a custom container\n */\nvar ContainerPortal = function ContainerPortal(props) {\n  var children = props.children,\n      containerRef = props.containerRef,\n      appendToParentPortal = props.appendToParentPortal;\n  var containerEl = containerRef.current;\n  var host = containerEl != null ? containerEl : isBrowser ? document.body : undefined;\n  var portal = React.useMemo(function () {\n    var node = containerEl == null ? void 0 : containerEl.ownerDocument.createElement(\"div\");\n    if (node) node.className = PORTAL_CLASSNAME;\n    return node;\n  }, [containerEl]);\n  var forceUpdate = useForceUpdate();\n  useSafeLayoutEffect(function () {\n    forceUpdate();\n  }, []);\n  useSafeLayoutEffect(function () {\n    if (!portal || !host) return;\n    host.appendChild(portal);\n    return function () {\n      host.removeChild(portal);\n    };\n  }, [portal, host]);\n\n  if (host && portal) {\n    return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(PortalContextProvider, {\n      value: appendToParentPortal ? portal : null\n    }, children), portal);\n  }\n\n  return null;\n};\n\n/**\n * Portal\n *\n * Declarative component used to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n *\n * @see Docs https://chakra-ui.com/portal\n */\nfunction Portal(props) {\n  var containerRef = props.containerRef,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  return containerRef ? /*#__PURE__*/React.createElement(ContainerPortal, _extends({\n    containerRef: containerRef\n  }, rest)) : /*#__PURE__*/React.createElement(DefaultPortal, rest);\n}\nPortal.defaultProps = {\n  appendToParentPortal: true\n};\nPortal.className = PORTAL_CLASSNAME;\nPortal.selector = PORTAL_SELECTOR;\n\nif (__DEV__) {\n  Portal.displayName = \"Portal\";\n}\n\nexport { Portal, PortalManager, usePortalManager };\n"],"names":["_createContext$1","createContext","PortalManagerContextProvider","usePortalManager","PortalManager","props","children","zIndex","React.createElement","_extends","target","i","source","key","_objectWithoutPropertiesLoose","excluded","sourceKeys","_excluded","_createContext","PortalContextProvider","usePortalContext","PORTAL_CLASSNAME","PORTAL_SELECTOR","Container","DefaultPortal","appendToParentPortal","tempNode","React.useRef","portal","forceUpdate","useForceUpdate","parentPortal","manager","useSafeLayoutEffect","doc","host","portalNode","_children","createPortal","ContainerPortal","containerRef","containerEl","isBrowser","React.useMemo","node","Portal","rest"],"mappings":"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","x_google_ignoreList":[0]}