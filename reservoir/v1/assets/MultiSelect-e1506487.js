import{a as J,j as $,F as Et}from"./emotion-react-jsx-runtime.browser.esm-b12afd4d.js";import{r as c,R as Le}from"./index-f2bd0723.js";import{_ as Ae,F as zt}from"./chakra-ui-focus-lock.esm-eb172e6c.js";import{_ as A}from"./extends-98964cd2.js";import{P as u}from"./index-58d3fd43.js";import{_ as vt}from"./index-fb519959.js";import{C as Ke}from"./Checkbox-ac4cd2b8.js";import{B as We}from"./Button-a3ea41e0.js";import{I as yt}from"./Icon-6616a4b9.js";import{X as Yt,u as Ze,B as re,f as Je,ag as je,ah as Ue}from"./chakra-ui-layout.esm-b2fa9d31.js";import{p as Ot,r as Xt}from"./chakra-ui-hooks.esm-02e82f78.js";import{B as Gt}from"./ButtonGroup-3ea9dbd7.js";import{u as Qt}from"./useNYPLBreakpoints-91c0faa1.js";var k={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=60103,_e=60106,xe=60107,Se=60108,Ce=60114,ke=60109,Te=60110,Ee=60112,Oe=60113,et=60120,De=60115,Re=60116,Dt=60121,Rt=60122,$t=60117,Vt=60129,Lt=60131;if(typeof Symbol=="function"&&Symbol.for){var F=Symbol.for;Ne=F("react.element"),_e=F("react.portal"),xe=F("react.fragment"),Se=F("react.strict_mode"),Ce=F("react.profiler"),ke=F("react.provider"),Te=F("react.context"),Ee=F("react.forward_ref"),Oe=F("react.suspense"),et=F("react.suspense_list"),De=F("react.memo"),Re=F("react.lazy"),Dt=F("react.block"),Rt=F("react.server.block"),$t=F("react.fundamental"),Vt=F("react.debug_trace_mode"),Lt=F("react.legacy_hidden")}function _(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ne:switch(e=e.type,e){case xe:case Ce:case Se:case Oe:case et:return e;default:switch(e=e&&e.$$typeof,e){case Te:case Ee:case Re:case De:case ke:return e;default:return t}}case _e:return t}}}var Zt=ke,Jt=Ne,en=Ee,tn=xe,nn=Re,rn=De,on=_e,un=Ce,ln=Se,an=Oe;k.ContextConsumer=Te;k.ContextProvider=Zt;k.Element=Jt;k.ForwardRef=en;k.Fragment=tn;k.Lazy=nn;k.Memo=rn;k.Portal=on;k.Profiler=un;k.StrictMode=ln;k.Suspense=an;k.isAsyncMode=function(){return!1};k.isConcurrentMode=function(){return!1};k.isContextConsumer=function(e){return _(e)===Te};k.isContextProvider=function(e){return _(e)===ke};k.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ne};k.isForwardRef=function(e){return _(e)===Ee};k.isFragment=function(e){return _(e)===xe};k.isLazy=function(e){return _(e)===Re};k.isMemo=function(e){return _(e)===De};k.isPortal=function(e){return _(e)===_e};k.isProfiler=function(e){return _(e)===Ce};k.isStrictMode=function(e){return _(e)===Se};k.isSuspense=function(e){return _(e)===Oe};k.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xe||e===Ce||e===Vt||e===Se||e===Oe||e===et||e===Lt||typeof e=="object"&&e!==null&&(e.$$typeof===Re||e.$$typeof===De||e.$$typeof===ke||e.$$typeof===Te||e.$$typeof===Ee||e.$$typeof===$t||e.$$typeof===Dt||e[0]===Rt)};k.typeOf=_;function It(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function bt(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Pe(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return bt(n.overflowY,t)||bt(n.overflowX,t)||function(r){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)}(e)}return!1}function $e(e,t,n,r,i,o,l,s){return o<e&&l>t||o>e&&l<t?0:o<=e&&s<=n||l>=t&&s>=n?o-e-r:l>t&&s<n||o<e&&s>n?l-t+i:0}var sn=function(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,l=t.boundary,s=t.skipOverflowHiddenElements,I=typeof l=="function"?l:function(G){return G!==l};if(!It(e))throw new TypeError("Invalid target");for(var b,M,v=document.scrollingElement||document.documentElement,h=[],a=e;It(a)&&I(a);){if((a=(M=(b=a).parentElement)==null?b.getRootNode().host||null:M)===v){h.push(a);break}a!=null&&a===document.body&&Pe(a)&&!Pe(document.documentElement)||a!=null&&Pe(a,s)&&h.push(a)}for(var S=n.visualViewport?n.visualViewport.width:innerWidth,y=n.visualViewport?n.visualViewport.height:innerHeight,R=window.scrollX||pageXOffset,T=window.scrollY||pageYOffset,d=e.getBoundingClientRect(),E=d.height,L=d.width,K=d.top,V=d.right,O=d.bottom,f=d.left,m=i==="start"||i==="nearest"?K:i==="end"?O:K+E/2,w=o==="center"?f+L/2:o==="end"?V:f,x=[],ie=0;ie<h.length;ie++){var D=h[ie],q=D.getBoundingClientRect(),Y=q.height,X=q.width,oe=q.top,ve=q.right,ye=q.bottom,ue=q.left;if(r==="if-needed"&&K>=0&&f>=0&&O<=y&&V<=S&&K>=oe&&O<=ye&&f>=ue&&V<=ve)return x;var le=getComputedStyle(D),ae=parseInt(le.borderLeftWidth,10),se=parseInt(le.borderTopWidth,10),ce=parseInt(le.borderRightWidth,10),de=parseInt(le.borderBottomWidth,10),W=0,j=0,g="offsetWidth"in D?D.offsetWidth-D.clientWidth-ae-ce:0,p="offsetHeight"in D?D.offsetHeight-D.clientHeight-se-de:0,C="offsetWidth"in D?D.offsetWidth===0?0:X/D.offsetWidth:0,B="offsetHeight"in D?D.offsetHeight===0?0:Y/D.offsetHeight:0;if(v===D)W=i==="start"?m:i==="end"?m-y:i==="nearest"?$e(T,T+y,y,se,de,T+m,T+m+E,E):m-y/2,j=o==="start"?w:o==="center"?w-S/2:o==="end"?w-S:$e(R,R+S,S,ae,ce,R+w,R+w+L,L),W=Math.max(0,W+T),j=Math.max(0,j+R);else{W=i==="start"?m-oe-se:i==="end"?m-ye+de+p:i==="nearest"?$e(oe,ye,Y,se,de+p,m,m+E,E):m-(oe+Y/2)+p/2,j=o==="start"?w-ue-ae:o==="center"?w-(ue+X/2)+g/2:o==="end"?w-ve+ce+g:$e(ue,ve,X,ae,ce+g,w,w+L,L);var N=D.scrollLeft,U=D.scrollTop;m+=U-(W=Math.max(0,Math.min(U+W/B,D.scrollHeight-Y/B+p))),w+=N-(j=Math.max(0,Math.min(N+j/C,D.scrollWidth-X/C+g)))}x.push({el:D,top:W,left:j})}return x},cn=0;function tt(){}function dn(e,t){if(e){var n=sn(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(r){var i=r.el,o=r.top,l=r.left;i.scrollTop=o,i.scrollLeft=l})}}function wt(e,t,n){var r=e===t||t instanceof n.Node&&e.contains&&e.contains(t);return r}function nt(e,t){var n;function r(){n&&clearTimeout(n)}function i(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];r(),n=setTimeout(function(){n=null,e.apply(void 0,l)},t)}return i.cancel=r,i}function ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return t.some(function(s){return s&&s.apply(void 0,[r].concat(o)),r.preventDownshiftDefault||r.hasOwnProperty("nativeEvent")&&r.nativeEvent.preventDownshiftDefault})}}function qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){t.forEach(function(i){typeof i=="function"?i(r):i&&(i.current=r)})}}function fn(){return String(cn++)}function hn(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function ze(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=mn(t,r)?t[r]:e[r],n},{})}function mn(e,t){return e[t]!==void 0}function Mt(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Ye(e,t,n,r,i){if(i===void 0&&(i=!0),n===0)return-1;var o=n-1;(typeof t!="number"||t<0||t>=n)&&(t=e>0?-1:o+1);var l=t+e;l<0?l=i?o:0:l>o&&(l=i?0:o);var s=Me(e,l,n,r,i);return s===-1?t>=n?-1:t:s}function Me(e,t,n,r,i){var o=r(t);if(!o||!o.hasAttribute("disabled"))return t;if(e>0){for(var l=t+1;l<n;l++)if(!r(l).hasAttribute("disabled"))return l}else for(var s=t-1;s>=0;s--)if(!r(s).hasAttribute("disabled"))return s;return i?e>0?Me(1,0,n,r,!1):Me(-1,n-1,n,r,!1):-1}function xt(e,t,n,r){return r===void 0&&(r=!0),t.some(function(i){return i&&(wt(i,e,n)||r&&wt(i,n.document.activeElement,n))})}var gn=nt(function(e){At(e).textContent=""},500);function pn(e,t){var n=At(t);e&&(n.textContent=e,gn(t))}function At(e){e===void 0&&(e=document);var t=e.getElementById("a11y-status-message");return t||(t=e.createElement("div"),t.setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var vn=["isInitialMount","highlightedIndex","items","environment"],Kt={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function yn(e,t,n){var r=e.props,i=e.type,o={};Object.keys(t).forEach(function(l){In(l,e,t,n),n[l]!==t[l]&&(o[l]=n[l])}),r.onStateChange&&Object.keys(o).length&&r.onStateChange(A({type:i},o))}function In(e,t,n,r){var i=t.props,o=t.type,l="on"+rt(e)+"Change";i[l]&&r[e]!==void 0&&r[e]!==n[e]&&i[l](A({type:o},r))}function bn(e,t){return t.changes}function wn(e){var t=e.selectedItem,n=e.itemToString;return t?n(t)+" has been selected.":""}var Mn=nt(function(e,t){pn(e(),t)},200),xn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?c.useLayoutEffect:c.useEffect;function Sn(e){var t=e.id,n=t===void 0?"downshift-"+fn():t,r=e.labelId,i=e.menuId,o=e.getItemId,l=e.toggleButtonId,s=e.inputId,I=c.useRef({labelId:r||n+"-label",menuId:i||n+"-menu",getItemId:o||function(b){return n+"-item-"+b},toggleButtonId:l||n+"-toggle-button",inputId:s||n+"-input"});return I.current}function Cn(e,t,n){return e!==void 0?e:n.length===0?-1:n.indexOf(t)}function kn(e){return e?String(e):""}function St(e){return/^\S{1}$/.test(e)}function rt(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Bt(e){var t=c.useRef(e);return t.current=e,t}function Tn(e,t,n){var r=c.useRef(),i=c.useRef(),o=c.useCallback(function(h,a){i.current=a,h=ze(h,a.props);var S=e(h,a),y=a.props.stateReducer(h,A({},a,{changes:S}));return y},[e]),l=c.useReducer(o,t),s=l[0],I=l[1],b=Bt(n),M=c.useCallback(function(h){return I(A({props:b.current},h))},[b]),v=i.current;return c.useEffect(function(){v&&r.current&&r.current!==s&&yn(v,ze(r.current,v.props),s),r.current=s},[s,n,v]),[s,M]}function En(e,t,n){var r=Tn(e,t,n),i=r[0],o=r[1];return[ze(i,n),o]}var we={itemToString:kn,stateReducer:bn,getA11ySelectionMessage:wn,scrollIntoView:dn,circularNavigation:!1,environment:typeof window>"u"?{}:window};function z(e,t,n){n===void 0&&(n=Kt);var r="default"+rt(t);return r in e?e[r]:n[t]}function Ve(e,t,n){if(n===void 0&&(n=Kt),t in e)return e[t];var r="initial"+rt(t);return r in e?e[r]:z(e,t,n)}function On(e){var t=Ve(e,"selectedItem"),n=Ve(e,"isOpen"),r=Ve(e,"highlightedIndex"),i=Ve(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.indexOf(t):r,isOpen:n,selectedItem:t,inputValue:i}}function Be(e,t,n,r){var i=e.items,o=e.initialHighlightedIndex,l=e.defaultHighlightedIndex,s=t.selectedItem,I=t.highlightedIndex;return i.length===0?-1:o!==void 0&&I===o?o:l!==void 0?l:s?n===0?i.indexOf(s):Ye(n,i.indexOf(s),i.length,r,!1):n===0?-1:n<0?i.length-1:0}function Dn(e,t,n,r){var i=c.useRef({isMouseDown:!1,isTouchMove:!1});return c.useEffect(function(){var o=function(){i.current.isMouseDown=!0},l=function(v){i.current.isMouseDown=!1,e&&!xt(v.target,t.map(function(h){return h.current}),n)&&r()},s=function(){i.current.isTouchMove=!1},I=function(){i.current.isTouchMove=!0},b=function(v){e&&!i.current.isTouchMove&&!xt(v.target,t.map(function(h){return h.current}),n,!1)&&r()};return n.addEventListener("mousedown",o),n.addEventListener("mouseup",l),n.addEventListener("touchstart",s),n.addEventListener("touchmove",I),n.addEventListener("touchend",b),function(){n.removeEventListener("mousedown",o),n.removeEventListener("mouseup",l),n.removeEventListener("touchstart",s),n.removeEventListener("touchmove",I),n.removeEventListener("touchend",b)}},[e,n]),i}var Rn=function(){return tt};function Ct(e,t,n){var r=n.isInitialMount,i=n.highlightedIndex,o=n.items,l=n.environment,s=Ae(n,vn);c.useEffect(function(){r||Mn(function(){return e(A({highlightedIndex:i,highlightedItem:o[i],resultCount:o.length},s))},l.document)},t)}function $n(e){var t=e.highlightedIndex,n=e.isOpen,r=e.itemRefs,i=e.getItemNodeFromIndex,o=e.menuElement,l=e.scrollIntoView,s=c.useRef(!0);return xn(function(){t<0||!n||!Object.keys(r.current).length||(s.current===!1?s.current=!0:l(i(t),o))},[t]),s}var Vn=tt;function Ln(e,t,n){var r=t.type,i=t.props,o;switch(r){case n.ItemMouseMove:o={highlightedIndex:t.index};break;case n.MenuMouseLeave:o={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:o={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:Be(i,e,0)};break;case n.FunctionOpenMenu:o={isOpen:!0,highlightedIndex:Be(i,e,0)};break;case n.FunctionCloseMenu:o={isOpen:!1};break;case n.FunctionSetHighlightedIndex:o={highlightedIndex:t.highlightedIndex};break;case n.FunctionSetInputValue:o={inputValue:t.inputValue};break;case n.FunctionReset:o={highlightedIndex:z(i,"highlightedIndex"),isOpen:z(i,"isOpen"),selectedItem:z(i,"selectedItem"),inputValue:z(i,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return A({},e,o)}function kt(e){for(var t=e.keysSoFar,n=e.highlightedIndex,r=e.items,i=e.itemToString,o=e.getItemNodeFromIndex,l=t.toLowerCase(),s=0;s<r.length;s++){var I=(s+n+1)%r.length,b=r[I];if(b!==void 0&&i(b).toLowerCase().startsWith(l)){var M=o(I);if(!(M!=null&&M.hasAttribute("disabled")))return I}}return n}u.array.isRequired,u.func,u.func,u.func,u.bool,u.number,u.number,u.number,u.bool,u.bool,u.bool,u.any,u.any,u.any,u.string,u.string,u.string,u.func,u.string,u.func,u.func,u.func,u.func,u.func,u.shape({addEventListener:u.func,removeEventListener:u.func,document:u.shape({getElementById:u.func,activeElement:u.any,body:u.any})});function An(e){var t=e.isOpen,n=e.resultCount,r=e.previousResultCount;return t?n?n!==r?n+" result"+(n===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select.":"":"No results are available.":""}var Kn=vt(vt({},we),{getA11yStatusMessage:An}),Bn=tt,it=0,ot=1,ut=2,lt=3,at=4,st=5,ct=6,dt=7,Fe=8,Ft=9,Ht=10,ft=11,Nt=12,ht=13,mt=14,gt=15,_t=16,Pt=17,qt=18,Wt=19,pt=20,Xe=21,jt=22,Ut=Object.freeze({__proto__:null,MenuKeyDownArrowDown:it,MenuKeyDownArrowUp:ot,MenuKeyDownEscape:ut,MenuKeyDownHome:lt,MenuKeyDownEnd:at,MenuKeyDownEnter:st,MenuKeyDownSpaceButton:ct,MenuKeyDownCharacter:dt,MenuBlur:Fe,MenuMouseLeave:Ft,ItemMouseMove:Ht,ItemClick:ft,ToggleButtonClick:Nt,ToggleButtonKeyDownArrowDown:ht,ToggleButtonKeyDownArrowUp:mt,ToggleButtonKeyDownCharacter:gt,FunctionToggleMenu:_t,FunctionOpenMenu:Pt,FunctionCloseMenu:qt,FunctionSetHighlightedIndex:Wt,FunctionSelectItem:pt,FunctionSetInputValue:Xe,FunctionReset:jt});function Fn(e,t){var n=t.type,r=t.props,i=t.shiftKey,o;switch(n){case ft:o={isOpen:z(r,"isOpen"),highlightedIndex:z(r,"highlightedIndex"),selectedItem:r.items[t.index]};break;case gt:{var l=t.key,s=""+e.inputValue+l,I=kt({keysSoFar:s,highlightedIndex:e.selectedItem?r.items.indexOf(e.selectedItem):-1,items:r.items,itemToString:r.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=A({inputValue:s},I>=0&&{selectedItem:r.items[I]})}break;case ht:o={highlightedIndex:Be(r,e,1,t.getItemNodeFromIndex),isOpen:!0};break;case mt:o={highlightedIndex:Be(r,e,-1,t.getItemNodeFromIndex),isOpen:!0};break;case st:case ct:o=A({isOpen:z(r,"isOpen"),highlightedIndex:z(r,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:r.items[e.highlightedIndex]});break;case lt:o={highlightedIndex:Me(1,0,r.items.length,t.getItemNodeFromIndex,!1)};break;case at:o={highlightedIndex:Me(-1,r.items.length-1,r.items.length,t.getItemNodeFromIndex,!1)};break;case ut:o={isOpen:!1,highlightedIndex:-1};break;case Fe:o={isOpen:!1,highlightedIndex:-1};break;case dt:{var b=t.key,M=""+e.inputValue+b,v=kt({keysSoFar:M,highlightedIndex:e.highlightedIndex,items:r.items,itemToString:r.itemToString,getItemNodeFromIndex:t.getItemNodeFromIndex});o=A({inputValue:M},v>=0&&{highlightedIndex:v})}break;case it:o={highlightedIndex:Ye(i?5:1,e.highlightedIndex,r.items.length,t.getItemNodeFromIndex,r.circularNavigation)};break;case ot:o={highlightedIndex:Ye(i?-5:-1,e.highlightedIndex,r.items.length,t.getItemNodeFromIndex,r.circularNavigation)};break;case pt:o={selectedItem:t.selectedItem};break;default:return Ln(e,t,Ut)}return A({},e,o)}var Hn=["onMouseLeave","refKey","onKeyDown","onBlur","ref"],Nn=["onClick","onKeyDown","refKey","ref"],_n=["item","index","onMouseMove","onClick","refKey","ref"];be.stateChangeTypes=Ut;function be(e){e===void 0&&(e={}),Bn();var t=A({},Kn,e),n=t.items,r=t.scrollIntoView,i=t.environment,o=t.initialIsOpen,l=t.defaultIsOpen,s=t.itemToString,I=t.getA11ySelectionMessage,b=t.getA11yStatusMessage,M=On(t),v=En(Fn,M,t),h=v[0],a=v[1],S=h.isOpen,y=h.highlightedIndex,R=h.selectedItem,T=h.inputValue,d=c.useRef(null),E=c.useRef(null),L=c.useRef({}),K=c.useRef(!0),V=c.useRef(null),O=Sn(t),f=c.useRef(),m=c.useRef(!0),w=Bt({state:h,props:t}),x=c.useCallback(function(g){return L.current[O.getItemId(g)]},[O]);Ct(b,[S,y,T,n],A({isInitialMount:m.current,previousResultCount:f.current,items:n,environment:i,itemToString:s},h)),Ct(I,[R],A({isInitialMount:m.current,previousResultCount:f.current,items:n,environment:i,itemToString:s},h));var ie=$n({menuElement:E.current,highlightedIndex:y,isOpen:S,itemRefs:L,scrollIntoView:r,getItemNodeFromIndex:x});c.useEffect(function(){return V.current=nt(function(g){g({type:Xe,inputValue:""})},500),function(){V.current.cancel()}},[]),c.useEffect(function(){T&&V.current(a)},[a,T]),Vn({isInitialMount:m.current,props:t,state:h}),c.useEffect(function(){if(m.current){(o||l||S)&&E.current&&E.current.focus();return}if(S){E.current&&E.current.focus();return}i.document.activeElement===E.current&&d.current&&(K.current=!1,d.current.focus())},[S]),c.useEffect(function(){m.current||(f.current=n.length)});var D=Dn(S,[E,d],i,function(){a({type:Fe})}),q=Rn();c.useEffect(function(){m.current=!1},[]),c.useEffect(function(){S||(L.current={})},[S]);var Y=c.useMemo(function(){return{ArrowDown:function(p){p.preventDefault(),a({type:ht,getItemNodeFromIndex:x,shiftKey:p.shiftKey})},ArrowUp:function(p){p.preventDefault(),a({type:mt,getItemNodeFromIndex:x,shiftKey:p.shiftKey})}}},[a,x]),X=c.useMemo(function(){return{ArrowDown:function(p){p.preventDefault(),a({type:it,getItemNodeFromIndex:x,shiftKey:p.shiftKey})},ArrowUp:function(p){p.preventDefault(),a({type:ot,getItemNodeFromIndex:x,shiftKey:p.shiftKey})},Home:function(p){p.preventDefault(),a({type:lt,getItemNodeFromIndex:x})},End:function(p){p.preventDefault(),a({type:at,getItemNodeFromIndex:x})},Escape:function(){a({type:ut})},Enter:function(p){p.preventDefault(),a({type:st})}," ":function(p){p.preventDefault(),a({type:ct})}}},[a,x]),oe=c.useCallback(function(){a({type:_t})},[a]),ve=c.useCallback(function(){a({type:qt})},[a]),ye=c.useCallback(function(){a({type:Pt})},[a]),ue=c.useCallback(function(g){a({type:Wt,highlightedIndex:g})},[a]),le=c.useCallback(function(g){a({type:pt,selectedItem:g})},[a]),ae=c.useCallback(function(){a({type:jt})},[a]),se=c.useCallback(function(g){a({type:Xe,inputValue:g})},[a]),ce=c.useCallback(function(g){return A({id:O.labelId,htmlFor:O.toggleButtonId},g)},[O]),de=c.useCallback(function(g,p){var C,B=g===void 0?{}:g,N=B.onMouseLeave,U=B.refKey,G=U===void 0?"ref":U,fe=B.onKeyDown,Ie=B.onBlur,he=B.ref,me=Ae(B,Hn),ge=p===void 0?{}:p;ge.suppressRefError;var Q=w.current.state,ee=function(Z){var P=Mt(Z);P&&X[P]?X[P](Z):St(P)&&a({type:dt,key:P,getItemNodeFromIndex:x})},te=function(){if(K.current===!1){K.current=!0;return}var Z=!D.current.isMouseDown;Z&&a({type:Fe})},pe=function(){a({type:Ft})};return A((C={},C[G]=qe(he,function(H){E.current=H}),C.id=O.menuId,C.role="listbox",C["aria-labelledby"]=O.labelId,C.tabIndex=-1,C),Q.isOpen&&Q.highlightedIndex>-1&&{"aria-activedescendant":O.getItemId(Q.highlightedIndex)},{onMouseLeave:ne(N,pe),onKeyDown:ne(fe,ee),onBlur:ne(Ie,te)},me)},[a,w,X,D,q,O,x]),W=c.useCallback(function(g,p){var C,B=g===void 0?{}:g,N=B.onClick,U=B.onKeyDown,G=B.refKey,fe=G===void 0?"ref":G,Ie=B.ref,he=Ae(B,Nn),me=p===void 0?{}:p;me.suppressRefError;var ge=function(){a({type:Nt})},Q=function(pe){var H=Mt(pe);H&&Y[H]?Y[H](pe):St(H)&&a({type:gt,key:H,getItemNodeFromIndex:x})},ee=A((C={},C[fe]=qe(Ie,function(te){d.current=te}),C.id=O.toggleButtonId,C["aria-haspopup"]="listbox",C["aria-expanded"]=w.current.state.isOpen,C["aria-labelledby"]=O.labelId+" "+O.toggleButtonId,C),he);return he.disabled||(ee.onClick=ne(N,ge),ee.onKeyDown=ne(U,Q)),ee},[a,w,Y,q,O,x]),j=c.useCallback(function(g){var p,C=g===void 0?{}:g,B=C.item,N=C.index,U=C.onMouseMove,G=C.onClick,fe=C.refKey,Ie=fe===void 0?"ref":fe,he=C.ref,me=Ae(C,_n),ge=w.current,Q=ge.state,ee=ge.props,te=function(){N!==Q.highlightedIndex&&(ie.current=!1,a({type:Ht,index:N}))},pe=function(){a({type:ft,index:N})},H=Cn(N,B,ee.items);if(H<0)throw new Error("Pass either item or item index in getItemProps!");var Z=A((p={role:"option","aria-selected":""+(H===Q.highlightedIndex),id:O.getItemId(H)},p[Ie]=qe(he,function(P){P&&(L.current[O.getItemId(H)]=P)}),p),me);return me.disabled||(Z.onMouseMove=ne(U,te),Z.onClick=ne(G,pe)),Z},[a,w,ie,O]);return{getToggleButtonProps:W,getLabelProps:ce,getMenuProps:de,getItemProps:j,toggleMenu:oe,openMenu:ye,closeMenu:ve,setHighlightedIndex:ue,selectItem:le,reset:ae,setInputValue:se,highlightedIndex:y,isOpen:S,selectedItem:R,inputValue:T}}u.array.isRequired,u.func,u.func,u.func,u.bool,u.number,u.number,u.number,u.bool,u.bool,u.bool,u.any,u.any,u.any,u.string,u.string,u.string,u.string,u.string,u.string,u.func,u.string,u.string,u.func,u.func,u.func,u.func,u.func,u.func,u.shape({addEventListener:u.func,removeEventListener:u.func,document:u.shape({getElementById:u.func,activeElement:u.any,body:u.any})});A({},we,{getA11yStatusMessage:hn,circularNavigation:!0});function Pn(e){var t=e.removedSelectedItem,n=e.itemToString;return n(t)+" has been removed."}u.array,u.array,u.array,u.func,u.func,u.func,u.number,u.number,u.number,u.func,u.func,u.string,u.string,u.shape({addEventListener:u.func,removeEventListener:u.func,document:u.shape({getElementById:u.func,activeElement:u.any,body:u.any})});we.itemToString,we.stateReducer,we.environment;const qn=Yt`
  from {width: 22px; opacity: 0; }
  to {width: 46px; opacity: 1;}
`,He=c.forwardRef((e,t)=>{var K;const{id:n,isOpen:r,multiSelectId:i,multiSelectLabelText:o,onClear:l,onKeyDown:s,onMenuToggle:I,selectedItems:b,...M}=e,v=r?"minus":"plus",h=`${qn} 150ms ease-out`,[a,S]=Le.useState(r);let y,R;((K=b[i])==null?void 0:K.items.length)>0&&(y=`${b[i].items.length}`,R=`remove ${y} item${y==="1"?"":"s"} selected from ${o}`);const T=Ze("MultiSelectMenuButton",{isOpen:r,hasSelectedItems:y}),d=Le.useRef(null),E=Ot(d,t);function L(V){(V.key==="Enter"||V.key===" "||V.key==="Spacebar"||V.which===13||V.which===32)&&(V.preventDefault(),l(),d==null||d.current.focus())}return Le.useEffect(()=>{var V;S(r),r!==a&&!r&&d&&((V=d.current)==null||V.focus())},[r,a]),J(Et,{children:[J(We,{buttonType:"secondary",id:n,onClick:I,ref:E,__css:T.menuButton,...M,children:[$(re,{as:"span",title:o,__css:T.buttonLabel,children:o}),$(yt,{id:`ms-${i}-icon`,name:v,size:"small"})]}),y&&J(re,{animation:h,"aria-label":R,as:"span",onClick:()=>{d==null||d.current.focus(),l()},onKeyPress:L,role:"button",tabIndex:0,__css:T.selectedItemsCountButton,children:[$(re,{as:"span",verticalAlign:"text-bottom",children:y}),$(yt,{align:"right",id:`ms-${i}-selected-items-count-icon`,marginLeft:"xs",name:"close",size:"xsmall",title:"Remove selected items"})]})]})});try{He.displayName="MultiSelectMenuButton",He.__docgenInfo={description:`The toggle button component used to open and close the \`MultiSelect\` menu.
A second button is rendered above the main button that displays the current
number of selected items. Clicking on the second button will clear all
the selected items and the main button's close event will not be fired
(as expected).`,displayName:"MultiSelectMenuButton",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},multiSelectId:{defaultValue:null,description:"The id of the MultiSelect using this button.",name:"multiSelectId",required:!0,type:{name:"string"}},multiSelectLabelText:{defaultValue:null,description:"The label text rendered within the MultiSelect using this button.",name:"multiSelectLabelText",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"The open status of the MultiSelect menu.",name:"isOpen",required:!0,type:{name:"boolean"}},selectedItems:{defaultValue:null,description:"The selected items state (items that were checked by user).",name:"selectedItems",required:!0,type:{name:"SelectedItems"}},onMenuToggle:{defaultValue:null,description:"The callback function for the menu toggle.",name:"onMenuToggle",required:!1,type:{name:"() => void"}},onClear:{defaultValue:null,description:"The action to perform for clear/reset button of MultiSelect.",name:"onClear",required:!1,type:{name:"() => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"() => void"}}}}}catch{}const Ge=Je(c.forwardRef((e,t)=>{const{id:n,isBlockElement:r,isDefaultOpen:i,items:o,labelText:l,onChange:s,onClear:I,selectedItems:b,width:M,...v}=e,{getItemProps:h,getMenuProps:a,getToggleButtonProps:S,highlightedIndex:y,isOpen:R}=be({items:o,stateReducer:(d,E)=>{const{changes:L,type:K}=E;switch(K){case be.stateChangeTypes.MenuKeyDownEnter:case be.stateChangeTypes.MenuKeyDownSpaceButton:case be.stateChangeTypes.ItemClick:return{...L,isOpen:!0,highlightedIndex:d.highlightedIndex};default:return L}},selectedItem:b,onSelectedItemChange:({selectedItem:d})=>{s(d,n)},initialIsOpen:i}),T=Ze("MultiSelect",{width:M,isBlockElement:r,isOpen:R});return o.some(d=>d.children)&&console.warn("NYPL Reservoir MultiSelect: Only the type 'dialog' can render nested select items."),J(re,{id:n,__css:T,...v,children:[$(He,{multiSelectId:n,multiSelectLabelText:l,isOpen:R,selectedItems:b,onClear:I,ref:t,...S({id:`ms-${n}-menu-button`,"aria-labelledby":`ms-${n}-menu ms-${n}-menu-button`})}),$(re,{__css:T.menuContainer,children:$(je,{styleType:"none",marginInlineStart:"0",...a({id:`ms-${n}-menu`,"aria-labelledby":`ms-${n}-menu-button`}),onClick:d=>d.preventDefault(),__css:T.menu,children:R&&o.map((d,E)=>{var L;return $(Ue,{py:1,...h({id:`ms-${n}-item-${E}`,key:d.id,item:d,index:E}),sx:y===E?{backgroundColor:"ui.gray.x-light-cool"}:{},children:$(Ke,{id:d.id,labelText:d.name,name:d.name,isChecked:(L=b[n])==null?void 0:L.items.includes(d.id),onChange:()=>null})},d.id)})})})]})}),{shouldForwardProp:()=>!0});try{Ge.displayName="MultiSelectListbox",Ge.__docgenInfo={description:'MultiSelectListbox renders a non-hierarchical list of checkbox options for the `type="listbox". It leverager downshift-js for accessiblity.',displayName:"MultiSelectListbox",props:{id:{defaultValue:null,description:"The id of the MultiSelect.",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of MultiSelect that will be rendered.",name:"type",required:!0,type:{name:'"dialog" | "listbox"'}},labelText:{defaultValue:null,description:"The label text rendered within the MultiSelect.",name:"labelText",required:!0,type:{name:"string"}},isDefaultOpen:{defaultValue:null,description:"Set the default open or closed state of the Multiselect.",name:"isDefaultOpen",required:!1,type:{name:"boolean"}},selectedItems:{defaultValue:null,description:"The selected items state (items that were checked by user).",name:"selectedItems",required:!0,type:{name:"SelectedItems"}},onClear:{defaultValue:null,description:"The action to perform for clear/reset button of MultiSelect.",name:"onClear",required:!1,type:{name:"() => void"}},isBlockElement:{defaultValue:null,description:`Boolean value used to control how the MultiSelect component will render within the page and interact with other DOM elements.
The default value is false.`,name:"isBlockElement",required:!1,type:{name:"boolean"}},items:{defaultValue:null,description:"The items to be rendered in the Multiselect as checkbox options.",name:"items",required:!0,type:{name:"MultiSelectItem[]"}}}}}catch{}const Wn=(e,t)=>{c.useEffect(()=>{const n=r=>{const i=r.key||r.keyCode;(i==="Escape"||i==="Esc"||i===27)&&e(!1)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[]),Xt({ref:t,handler:()=>e(!1)})},Qe=Je(c.forwardRef((e,t)=>{const{id:n,isBlockElement:r,isDefaultOpen:i,items:o,labelText:l,onApply:s,onChange:I,onClear:b,onMixedStateChange:M,selectedItems:v,width:h,...a}=e,{isLargerThanMobile:S}=Qt(),[y,R]=c.useState(i),T=Ze("MultiSelect",{width:h,isBlockElement:r,isOpen:y}),d=c.useRef();function E(f,m){Le.useEffect(()=>{const w=x=>{!f.current||f.current.contains(x.target)||m(x)};return document.addEventListener("mousedown",w),document.addEventListener("touchstart",w),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",w)}},[f,m])}E(d,()=>R(!1)),Wn(()=>R(!1),d);const L=Ot(d,t),K=(f,m)=>v[f]?!!v[f].items.find(w=>w===m):!1,V=(f,m)=>{let w=m.children.map(x=>x.id);return v[f]!==void 0?w.every(x=>v[f].items.includes(x)):!1},O=(f,m)=>{let w=m.children.map(x=>x.id);return v[f]!==void 0&&w.some(x=>v[f].items.includes(x))?!V(f,m):!1};return $(re,{id:n,ref:L,__css:T,...a,children:J(zt,{isDisabled:!y,children:[$(He,{id:`ms-${n}-menu-button`,multiSelectId:n,multiSelectLabelText:l,isOpen:y,selectedItems:v,onMenuToggle:()=>{R(!y)},onClear:b}),J(re,{role:"dialog",__css:T.menuContainer,...y&&{"aria-modal":!0},"aria-labelledby":`ms-${n}-menu-button`,children:[$(je,{styleType:"none",marginInlineStart:"0",__css:T.menu,children:y&&o.map(f=>$(Ue,{py:"xxs",children:f.children?J(Et,{children:[$(Ke,{id:f.id,labelText:f.name,name:f.name,...M!==void 0?{isChecked:V(n,f),isIndeterminate:O(n,f),onChange:M}:{isChecked:K(n,f.id),onChange:I}}),$(je,{styleType:"none",marginInlineStart:"0",__css:T.menuChildren,children:f.children.map(m=>$(Ue,{py:"xxs",children:$(Ke,{id:m.id,labelText:m.name,name:m.name,isChecked:K(n,m.id),onChange:I})},m.id))})]}):$(Ke,{id:f.id,labelText:f.name,name:f.name,isChecked:K(n,f.id),onChange:I})},f.id))}),y&&S&&J(Gt,{__css:T.actionButtons,children:[$(We,{id:`ms-${n}-clear`,buttonType:"link",type:"button",onClick:b,children:"Clear"}),$(We,{id:`ms-${n}-apply`,buttonType:"primary",type:"button",onClick:()=>{R(!1),s()},children:"Apply"})]})]})]})})}),{shouldForwardProp:()=>!0});try{Qe.displayName="MultiSelectDialog",Qe.__docgenInfo={description:"",displayName:"MultiSelectDialog",props:{id:{defaultValue:null,description:"The id of the MultiSelect.",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of MultiSelect that will be rendered.",name:"type",required:!0,type:{name:'"dialog" | "listbox"'}},labelText:{defaultValue:null,description:"The label text rendered within the MultiSelect.",name:"labelText",required:!0,type:{name:"string"}},isDefaultOpen:{defaultValue:null,description:"Set the default open or closed state of the Multiselect.",name:"isDefaultOpen",required:!1,type:{name:"boolean"}},selectedItems:{defaultValue:null,description:"The selected items state (items that were checked by user).",name:"selectedItems",required:!0,type:{name:"SelectedItems"}},onClear:{defaultValue:null,description:"The action to perform for clear/reset button of MultiSelect.",name:"onClear",required:!1,type:{name:"() => void"}},isBlockElement:{defaultValue:null,description:`Boolean value used to control how the MultiSelect component will render within the page and interact with other DOM elements.
The default value is false.`,name:"isBlockElement",required:!1,type:{name:"boolean"}},items:{defaultValue:null,description:"The items to be rendered in the Multiselect as checkbox options.",name:"items",required:!0,type:{name:"MultiSelectItem[]"}}}}}catch{}const ir=["default","fitContent","full"],Tt=Je(c.forwardRef((e,t)=>{const{id:n,isBlockElement:r=!1,isDefaultOpen:i=!1,items:o,labelText:l,onApply:s,onChange:I,onClear:b,onMixedStateChange:M,selectedItems:v,type:h,width:a="default",...S}=e,y={id:n,isBlockElement:r,isDefaultOpen:i,items:o,labelText:l,onClear:b,selectedItems:v,type:h,width:a};return h==="listbox"?$(Ge,{...y,ref:t,onChange:I,...S}):h==="dialog"?$(Qe,{...y,onChange:I,onMixedStateChange:M,onApply:s,ref:t,...S}):null}),{shouldForwardProp:()=>!0});try{Tt.displayName="MultiSelect",Tt.__docgenInfo={description:"The `MultiSelect` component is a form input element that presents a list\nof `Checkbox` components from which a user can make one or multiple\nselections. Two variants of the MultiSelect component are offered, each with\nslightly different functionality and requirements.  Because of these\ndifferences, the two variants are broken out in separate stories below.",displayName:"MultiSelect",props:{id:{defaultValue:null,description:"The id of the MultiSelect.",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"The type of MultiSelect that will be rendered.",name:"type",required:!0,type:{name:'"dialog" | "listbox"'}},labelText:{defaultValue:null,description:"The label text rendered within the MultiSelect.",name:"labelText",required:!0,type:{name:"string"}},isDefaultOpen:{defaultValue:null,description:"Set the default open or closed state of the Multiselect.",name:"isDefaultOpen",required:!1,type:{name:"boolean"}},selectedItems:{defaultValue:null,description:"The selected items state (items that were checked by user).",name:"selectedItems",required:!0,type:{name:"SelectedItems"}},onClear:{defaultValue:null,description:"The action to perform for clear/reset button of MultiSelect.",name:"onClear",required:!1,type:{name:"() => void"}},isBlockElement:{defaultValue:null,description:`Boolean value used to control how the MultiSelect component will render within the page and interact with other DOM elements.
The default value is false.`,name:"isBlockElement",required:!1,type:{name:"boolean"}},items:{defaultValue:null,description:"The items to be rendered in the Multiselect as checkbox options.",name:"items",required:!0,type:{name:"MultiSelectItem[]"}}}}}catch{}export{Tt as M,ir as m};
//# sourceMappingURL=MultiSelect-e1506487.js.map
