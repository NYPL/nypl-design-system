{"version":3,"file":"List-582282a6.js","sources":["../../../src/components/List/List.tsx"],"sourcesContent":["import { As, Box, chakra, useMultiStyleConfig } from \"@chakra-ui/react\";\nimport React, { forwardRef } from \"react\";\n\nimport useDSHeading from \"../../hooks/useDSHeading\";\n\nexport const listTypesArray = [\"ol\", \"ul\", \"dl\"] as const;\nexport type ListTypes = typeof listTypesArray[number];\n\nexport interface DescriptionProps {\n  term: string;\n  description: string | JSX.Element;\n}\n\nexport interface ListProps {\n  /** ClassName you can add in addition to 'list' */\n  className?: string;\n  /** ID that other components can cross reference for accessibility purposes */\n  id?: string;\n  /** Display the list in a row. */\n  inline?: boolean;\n  /** Data to render if children are not passed. For `listTypes` ordered `\"ol\"`\n   * and unordered `\"ul\"` `List` types, the data structure is an array of strings\n   * to renders as `li` items. For description `\"dl\"` `List` types, the data\n   * structure is an array of objects with `term` and `description` properties\n   * to render `dt` and `dd` elements, respectively.\n   */\n  listItems?: (string | JSX.Element | DescriptionProps)[];\n  /** Remove list styling. */\n  noStyling?: boolean;\n  /** Optional string value used to set the text for a `Heading` component, or\n   * a DS Heading component that can be passed in. This title only applies to\n   * to Description Lists and will render above the list. */\n  title?: string | JSX.Element;\n  /** The type of list: \"ol\", \"ul\", or \"dl\". \"ul\" by default. */\n  type: ListTypes;\n}\n\n/**\n * A component that renders list item `li` elements or description item `dt`\n * and `dd` elements based on the `type` prop. Note that the `title` prop will\n * only display for the `Description` list type.\n */\nexport const List = chakra(\n  forwardRef<\n    HTMLDivElement & HTMLUListElement & HTMLOListElement,\n    React.PropsWithChildren<ListProps>\n  >((props, ref?) => {\n    const {\n      children,\n      className,\n      id,\n      inline = false,\n      listItems,\n      noStyling = false,\n      title,\n      type = \"ul\",\n      ...rest\n    } = props;\n    const styles = useMultiStyleConfig(\"List\", {\n      inline,\n      noStyling,\n      variant: type,\n    });\n    const finalTitle = useDSHeading({\n      title,\n      id,\n      additionalStyles: styles.heading,\n    });\n    let listElement = null;\n\n    // Either li/dt/dd children elements must be passed or the `listItems`\n    // prop must be used.\n    if (children && listItems && listItems?.length > 0) {\n      console.warn(\n        \"NYPL Reservoir List: Pass in either `<li>`, `<dt>`, or `<dd>` \" +\n          \"children or use the `listItems` data prop. Do not use both.\"\n      );\n      return null;\n    }\n    if (!children && !listItems) {\n      console.warn(\n        \"NYPL Reservoir List: Pass in either `<li>` children or pass data in \" +\n          \"the `listItems` prop, not both.\"\n      );\n      return null;\n    }\n\n    /**\n     * This returns either the `children` elements passed to the `List` component\n     * first, otherwise it will check and render the data passed into the\n     * `listItems` props based on the `ListType` type. If it is of type unordered\n     * or ordered, it will return `li` elements. Otherwise, it will return a\n     * combination of `dt` and `dd` elements for the description type.\n     */\n    const listChildrenElms = (listType: ListTypes) => {\n      if (children) {\n        return children;\n      }\n      if (!listItems) {\n        return null;\n      }\n      if (listType === \"ol\" || listType === \"ul\") {\n        return listItems.map((item, i) => <li key={i}>{item}</li>);\n      } else if (listType === \"dl\") {\n        return (listItems as DescriptionProps[]).map((item, i) => [\n          <dt key={`${i}-term`}>{item.term}</dt>,\n          <dd key={`${i}-des`}>{item.description}</dd>,\n        ]);\n      }\n      return null;\n    };\n    /**\n     * Checks for `dt` and `dd` elements and consoles a warning if the\n     * children are different HTML elements.\n     */\n    const checkDescriptionChildrenError = () => {\n      React.Children.map(\n        children as JSX.Element,\n        (child: React.ReactElement) => {\n          if (\n            child.type !== \"dt\" &&\n            child.type !== \"dd\" &&\n            child.type !== React.Fragment &&\n            child.props.mdxType !== \"dt\" &&\n            child.props.mdxType !== \"dd\" &&\n            child.props.mdxType !== React.Fragment\n          ) {\n            console.warn(\n              \"NYPL Reservoir List: Direct children of `List` (description) must \" +\n                \"be `<dt>`s and `<dd>`s.\"\n            );\n          }\n        }\n      );\n    };\n\n    if (type === \"ol\" || type === \"ul\") {\n      checkListChildrenError(children, type);\n      listElement = (\n        <Box\n          as={type as As}\n          id={id}\n          className={className}\n          ref={ref}\n          __css={styles}\n          {...rest}\n        >\n          {listChildrenElms(type)}\n        </Box>\n      );\n    } else if (type === \"dl\") {\n      checkDescriptionChildrenError();\n      listElement = (\n        <Box\n          as=\"section\"\n          id={id}\n          className={className}\n          ref={ref}\n          __css={styles}\n          {...rest}\n        >\n          {finalTitle}\n          <dl>{listChildrenElms(type)}</dl>\n        </Box>\n      );\n    }\n\n    return listElement;\n  })\n);\n\n/**\n * Checks for `li` elements and consoles a warning if the\n * children are different HTML elements.\n */\nexport const checkListChildrenError = (\n  children: React.ReactNode,\n  listType = \"ul\",\n  componentName = \"List\"\n) => {\n  React.Children.map(children as JSX.Element, (child: React.ReactElement) => {\n    if (child && child?.type !== \"li\" && child?.props?.mdxType !== \"li\") {\n      console.warn(\n        `NYPL Reservoir ${componentName}: Direct children of \\`${componentName}\\` (${listType}) must be \\`<li>\\`s.`\n      );\n    }\n  });\n};\n\nexport default List;\n"],"names":["listTypesArray","List","chakra","forwardRef","props","ref","children","className","id","inline","listItems","noStyling","title","type","rest","styles","useMultiStyleConfig","finalTitle","useDSHeading","listElement","listChildrenElms","listType","item","i","jsx","checkListChildrenError","Box","React","child","jsxs","componentName","_a"],"mappings":"kPAKO,MAAAA,EAAA,CAAA,KAAA,KAAA,IAAA,EAqCAC,EAAAC,EAAaC,aAAA,CAAAC,EAAAC,IAAA,CAKhB,KAAA,CAAM,SAAAC,EACJ,UAAAC,EACA,GAAAC,EACA,OAAAC,EAAA,GACS,UAAAC,EACT,UAAAC,EAAA,GACY,MAAAC,EACZ,KAAAC,EAAA,KACO,GAAAC,CACJ,EAAAV,EAELW,EAAAC,EAAA,OAAA,CAA2C,OAAAP,EACzC,UAAAE,EACA,QAAAE,CACS,CAAA,EAEXI,EAAAC,EAAA,CAAgC,MAAAN,EAC9B,GAAAJ,EACA,iBAAAO,EAAA,OACyB,CAAA,EAE3B,IAAAI,EAAA,KAIA,GAAAb,GAAAI,IAAAA,GAAA,YAAAA,EAAA,QAAA,EACE,eAAA,KAAQ,2HACN,EAGF,KAEF,GAAA,CAAAJ,GAAA,CAAAI,EACE,eAAA,KAAQ,qGACN,EAGF,KAUF,MAAAU,EAAAC,GACEf,IAGAI,EAGAW,IAAA,MAAAA,IAAA,KACEX,EAAA,IAAA,CAAAY,EAAAC,IAAAC,EAAA,KAAA,CAAA,SAAAF,GAAAC,CAAA,CAAA,EAAyDF,IAAA,KAEzDX,EAAA,IAAA,CAAAY,EAAAC,IAAA,CAA0DC,EAAA,KAAA,CAAA,SAAAF,EAAA,IAAA,EAAA,GAAAC,CAAA,OAAA,EACvBC,EAAA,KAAA,CAAA,SAAAF,EAAA,WAAA,EAAA,GAAAC,CAAA,MAAA,CACM,CAAA,EAG3C,KAVE,MAqCJ,OAAAV,IAAA,MAAAA,IAAA,MACEY,EAAAnB,EAAAO,CAAA,EACAM,EAAAK,EACEE,EAAC,CAAA,GAAAb,EACK,GAAAL,EACJ,UAAAD,EACA,IAAAF,EACA,MAAAU,EACO,GAAAD,EACH,SAAAM,EAAAP,CAAA,CAEkB,CAAA,GACxBA,IAAA,QAjCJ,IAAA,CACEc,EAAA,SAAA,IAAerB,EACbsB,GAAA,CAEEA,EAAA,OAAA,MAAAA,EAAA,OAAA,MAAAA,EAAA,OAAAD,EAAA,UAAAC,EAAA,MAAA,UAAA,MAAAA,EAAA,MAAA,UAAA,MAAAA,EAAA,MAAA,UAAAD,EAAA,UAQE,QAAA,KAAQ,2FACN,CAGJ,CACF,CACF,KAmBAR,EAAAU,EACEH,EAAC,CAAA,GAAA,UACI,GAAAlB,EACH,UAAAD,EACA,IAAAF,EACA,MAAAU,EACO,GAAAD,EACH,SAAA,CAEHG,EAAAO,EAAA,KAAA,CAAA,SAAAJ,EAAAP,CAAA,CAAA,CAAA,CAC2B,CAAA,CAAA,GAKlCM,CAAO,CAAA,CAEX,EAMOM,EAAA,CAAAnB,EAAAe,EAAA,KAAAS,EAAA,SAAA,CAKLH,EAAA,SAAA,IAAArB,EAAAsB,GAAA,OACEA,IAAAA,GAAA,YAAAA,EAAA,QAAA,QAAAG,EAAAH,GAAA,YAAAA,EAAA,QAAA,YAAAG,EAAA,WAAA,MACE,QAAA,KAAQ,kBAAAD,CAAA,0BAAAA,CAAA,OAAAT,CAAA,sBAC+E,CAEzF,CAAA,CAEJ"}