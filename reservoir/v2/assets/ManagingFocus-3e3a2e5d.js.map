{"version":3,"file":"ManagingFocus-3e3a2e5d.js","sources":["../../../src/components/AccessibilityGuide/ManagingFocus.mdx"],"sourcesContent":["import { Meta, Source } from \"@storybook/blocks\";\n\nimport Link from \"../Link/Link\";\n\n<Meta title=\"Accessibility Guide/Managing Focus\" />\n\n# Managing Focus\n\n## Table of Contents\n\n- {<Link href=\"#general-information\" target=\"_self\">General Information</Link>}\n- {<Link href=\"#forcing-focus-during-content-updates\" target=\"_self\">Forcing Focus During Content Updates</Link>}\n- {<Link href=\"#how-to-manage-focus\" target=\"_self\">How To Manage Focus</Link>}\n- {<Link href=\"#resources\" target=\"_self\">Resources</Link>}\n\n## General Information\n\nFocusable elements are UI elements that a keyboard user can navigate to. By default, this\nincludes interactive elements like links, checkboxes, and text inputs, etc. It's\npossible to make any element focusable; more on this later.\n\nFocus order should be logical, and should generally follow the visual order of the page.\nFor most languages, the focus order starts at the top of the page and ends at the bottom,\ntraveling from left to right. However, some languages are read right to left, so the\nprimary language of the page may warrant a different focus order.\n\n## Forcing Focus During Content Updates\n\nThere are times when a forced shift of focus is necessary to alert the user to changes and\nmake it possible for them to read and interact with the changed content. Examples include:\n\n- When a dialog opens\n- When a dialog closes\n- When a form is submitted with errors\n- When a process completes and new content is loaded\n\nDialogs should always forcefully manage focus. Focus should land within the dialog when\nit is triggered and return to the triggering control (or the most logical place) when\nthe dialog is closed. Focus should be trapped within the dialog until it is dismissed.\n\nWhen a form is submitted and errors are added, focus should move either to the list\nof errors (if provided) or to the first field in error if using in-line validation.\nIf you submit a form, and a status message is added in its place, then focus should be\nplaced on the status message.\n\nIf there is the ability to “load more” results, focus should move to the top of the\nnewly added content.\n\nNot all instances of content updates require a focus change. For example, it is\ngenerally inappropriate to forcefully move focus to search results when it is\nanticipated that the user may be interacting with multiple filters in succession and\na focus change would be disruptive to their flow.\n\n## How To Manage Focus\n\nThe `tabindex` HTML attribute (`tabIndex` in React) can be used to manipulate the tab sequence of\nelements on a page. A `tabindex` of -1 removes an element from this sequence. A `tabindex`of\n0 adds an element that is not focusable by default. A `tabindex` of 1 or greater will take\nprecedence in the focus order. This is considered an anti-pattern and should **not** be used\nbecause it confuses the natural focus order.\n\nNote that the `aria-live` attribute does not manage focus. In order to programmatically move\nfocus to an element (as in the situations described above), use the `.focus()` method on the\nelement.\n\n<Source\n  code={`\ndocument.getElementByID(\"#element-to-focus\").focus()\n`}\n  language=\"js\"\n/>\n\nIn React, a ref can be assigned to the element and then the `.focus()` method can be\ncalled on the ref's current property.\n\n<Source\n  code={`\nconst closeDialogRef = useRef(null)\n\nuseEffect(() => {\nif (isOpen) {\ncloseDialogRef.current.focus()\n}\n}, [isOpen])\n\n<Dialog isOpen={isOpen}>\n  <button onClick={() => setIsOpen(false)} ref={closeDialogRef}>\n    Close Dialog\n  </button>\n</Dialog>\n`} language=\"jsx\" />\n\n**Note**: When focus is being moved to an element that is not natively focusable, the target\nelement will need to have tabindex=”-1”. This allows it to receive programmatic\nfocus without also placing it in the tab sequence as tabindex=”0” would.\n\n## Resources\n\n- [MDN Exploring the keyboard usability problem](https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility#exploring_the_keyboard_usability_problem)\n- [MDN tabindex](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex)\n- [web.dev Keyboard focus](https://web.dev/learn/accessibility/focus/#:~:text=Naturally%20focusable%20HTML%20elements%20include,overrides%20the%20natural%20focus%20semantics.)\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Link","Source","MDXContent","MDXLayout"],"mappings":"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"}