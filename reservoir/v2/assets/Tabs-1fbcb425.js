import{j as S,a as J}from"./emotion-react-jsx-runtime.browser.esm-49aea89b.js";import{r as l,R as X}from"./index-0cbcd92a.js";import{B as Q}from"./Button-948e9be8.js";import{I as Z}from"./Icon-4eeffe51.js";import{u as me}from"./useNYPLBreakpoints-2881f83d.js";import{ad as ee,s as ne,q as ye,i as xe,j as R,u as re,o as Te,p as ge,M as ke,a as L,l as z,N as $,P as Ce,r as Y,W as _e,ae as Se,t as B,B as q}from"./chakra-ui-layout.esm-e0dbb94e.js";import{c as we}from"./chakra-ui-descendant.esm-f106b18c.js";import{b as De,j as Ie}from"./chakra-ui-hooks.esm-539e7d47.js";function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K.apply(this,arguments)}function Pe(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function Ee(){var e=l.useRef(new Map),t=e.current,n=l.useCallback(function(r,s,i,c){e.current.set(i,{type:s,el:r,options:c}),r.addEventListener(s,i,c)},[]),a=l.useCallback(function(r,s,i,c){r.removeEventListener(s,i,c),e.current.delete(i)},[]);return l.useEffect(function(){return function(){t.forEach(function(r,s){a(r.el,r.type,s,r.options)})}},[a,t]),{add:n,remove:a}}var Me=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function W(e){var t=e.target,n=t.tagName,a=t.isContentEditable;return n!=="INPUT"&&n!=="TEXTAREA"&&a!==!0}function Le(e){e===void 0&&(e={});var t=e,n=t.ref,a=t.isDisabled,r=t.isFocusable,s=t.clickOnEnter,i=s===void 0?!0:s,c=t.clickOnSpace,u=c===void 0?!0:c,v=t.onMouseDown,b=t.onMouseUp,d=t.onClick,y=t.onKeyDown,m=t.onKeyUp,C=t.tabIndex,x=t.onMouseOver,g=t.onMouseLeave,T=Pe(t,Me),_=l.useState(!0),f=_[0],k=_[1],h=l.useState(!1),P=h[0],w=h[1],D=Ee(),A=function(I){I&&I.tagName!=="BUTTON"&&k(!1)},j=f?C:C||0,E=a&&!r,O=l.useCallback(function(o){if(a){o.stopPropagation(),o.preventDefault();return}var I=o.currentTarget;I.focus(),d==null||d(o)},[a,d]),M=l.useCallback(function(o){P&&W(o)&&(o.preventDefault(),o.stopPropagation(),w(!1),D.remove(document,"keyup",M,!1))},[P,D]),ue=l.useCallback(function(o){if(y==null||y(o),!(a||o.defaultPrevented||o.metaKey)&&!(!W(o.nativeEvent)||f)){var I=i&&o.key==="Enter",H=u&&o.key===" ";if(H&&(o.preventDefault(),w(!0)),I){o.preventDefault();var he=o.currentTarget;he.click()}D.add(document,"keyup",M,!1)}},[a,f,y,i,u,D,M]),de=l.useCallback(function(o){if(m==null||m(o),!(a||o.defaultPrevented||o.metaKey)&&!(!W(o.nativeEvent)||f)){var I=u&&o.key===" ";if(I){o.preventDefault(),w(!1);var H=o.currentTarget;H.click()}}},[u,f,a,m]),V=l.useCallback(function(o){o.button===0&&(w(!1),D.remove(document,"mouseup",V,!1))},[D]),fe=l.useCallback(function(o){if(!ee(o)){if(a){o.stopPropagation(),o.preventDefault();return}f||w(!0);var I=o.currentTarget;I.focus({preventScroll:!0}),D.add(document,"mouseup",V,!1),v==null||v(o)}},[a,f,v,D,V]),be=l.useCallback(function(o){ee(o)||(f||w(!1),b==null||b(o))},[b,f]),ve=l.useCallback(function(o){if(a){o.preventDefault();return}x==null||x(o)},[a,x]),pe=l.useCallback(function(o){P&&(o.preventDefault(),w(!1)),g==null||g(o)},[P,g]),G=ne(n,A);return f?K({},T,{ref:G,type:"button","aria-disabled":E?void 0:a,disabled:E,onClick:O,onMouseDown:v,onMouseUp:b,onKeyUp:m,onKeyDown:y,onMouseOver:x,onMouseLeave:g}):K({},T,{ref:G,role:"button","data-active":ye(P),"aria-disabled":a?"true":void 0,tabIndex:E?void 0:j,onClick:O,onMouseDown:fe,onMouseUp:be,onKeyUp:de,onKeyDown:ue,onMouseOver:ve,onMouseLeave:pe})}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function N(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Oe=["defaultIndex","onChange","index","isManual","isLazy","lazyBehavior","orientation","direction"],Ne=["isDisabled","isFocusable"],Re=["isSelected","id","children"],F=we(),ze=F[0],Be=F[1],Ke=F[2],$e=F[3];function Fe(e){var t=e.defaultIndex,n=e.onChange,a=e.index,r=e.isManual,s=e.isLazy,i=e.lazyBehavior,c=i===void 0?"unmount":i,u=e.orientation,v=u===void 0?"horizontal":u,b=e.direction,d=b===void 0?"ltr":b,y=N(e,Oe),m=l.useState(t??0),C=m[0],x=m[1],g=De({defaultValue:t??0,value:a,onChange:n}),T=g[0],_=g[1];l.useEffect(function(){a!=null&&x(a)},[a]);var f=Ke(),k=Ie(e.id,"tabs");return{id:k,selectedIndex:T,focusedIndex:C,setSelectedIndex:_,setFocusedIndex:x,isManual:r,isLazy:s,lazyBehavior:c,orientation:v,descendants:f,direction:d,htmlProps:y}}var se=xe({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"}),Ue=se[0],U=se[1];function Ae(e){var t=U(),n=t.focusedIndex,a=t.orientation,r=t.direction,s=Be(),i=l.useCallback(function(c){var u,v=function(){var h=s.nextEnabled(n);h&&B(h.node)},b=function(){var h=s.prevEnabled(n);h&&B(h.node)},d=function(){var h=s.firstEnabled();h&&B(h.node)},y=function(){var h=s.lastEnabled();h&&B(h.node)},m=a==="horizontal",C=a==="vertical",x=Ce(c),g=r==="ltr"?"ArrowLeft":"ArrowRight",T=r==="ltr"?"ArrowRight":"ArrowLeft",_=(u={},u[g]=function(){return m&&b()},u[T]=function(){return m&&v()},u.ArrowDown=function(){return C&&v()},u.ArrowUp=function(){return C&&b()},u.Home=d,u.End=y,u),f=_[x];f&&(c.preventDefault(),f(c))},[s,n,a,r]);return p({},e,{role:"tablist","aria-orientation":a,onKeyDown:Y(e.onKeyDown,i)})}function je(e){var t=e.isDisabled,n=e.isFocusable,a=N(e,Ne),r=U(),s=r.setSelectedIndex,i=r.isManual,c=r.id,u=r.setFocusedIndex,v=r.selectedIndex,b=$e({disabled:t&&!n}),d=b.index,y=b.register,m=d===v,C=function(){s(d)},x=function(){u(d);var f=t&&n,k=!i&&!f;k&&s(d)},g=Le(p({},a,{ref:ne(y,e.ref),isDisabled:t,isFocusable:n,onClick:Y(e.onClick,C)})),T="button";return p({},g,{id:oe(c,d),role:"tab",tabIndex:m?0:-1,type:T,"aria-selected":m,"aria-controls":ie(c,d),onFocus:t?void 0:Y(e.onFocus,x)})}function Ve(e){var t=U(),n=t.id,a=t.selectedIndex,r=_e(e.children),s=r.map(function(i,c){return l.cloneElement(i,{isSelected:c===a,id:ie(n,c),"aria-labelledby":oe(n,c)})});return p({},e,{children:s})}function He(e){var t=e.isSelected,n=e.id,a=e.children,r=N(e,Re),s=U(),i=s.isLazy,c=s.lazyBehavior,u=l.useRef(!1);t&&(u.current=!0);var v=Se({hasBeenSelected:u.current,isSelected:t,isLazy:i,lazyBehavior:c});return p({tabIndex:0},r,{children:v?a:null,role:"tabpanel",hidden:!t,id:n})}function oe(e,t){return e+"--tab-"+t}function ie(e,t){return e+"--tabpanel-"+t}var qe=["children","className"],We=["htmlProps","descendants"],Ye=R(function(e,t){var n=re("Tabs",e),a=Te(e),r=a.children,s=a.className,i=N(a,qe),c=Fe(i),u=c.htmlProps,v=c.descendants,b=N(c,We),d=l.useMemo(function(){return b},[b]),y=ge(u,["isFitted"]);return l.createElement(ze,{value:v},l.createElement(Ue,{value:d},l.createElement(ke,{value:n},l.createElement(L.div,p({className:z("chakra-tabs",s),ref:t},y,{__css:n.root}),r))))}),Xe=R(function(e,t){var n=$(),a=je(p({},e,{ref:t})),r=p({outline:"0",display:"flex",alignItems:"center",justifyContent:"center"},n.tab);return l.createElement(L.button,p({},a,{className:z("chakra-tabs__tab",e.className),__css:r}))}),le=R(function(e,t){var n=Ae(p({},e,{ref:t})),a=$(),r=p({display:"flex"},a.tablist);return l.createElement(L.div,p({},n,{className:z("chakra-tabs__tablist",e.className),__css:r}))}),ae=R(function(e,t){var n=He(p({},e,{ref:t})),a=$();return l.createElement(L.div,p({outline:"0"},n,{className:z("chakra-tabs__tab-panel",e.className),__css:a.tabpanel}))}),ce=R(function(e,t){var n=Ve(e),a=$();return l.createElement(L.div,p({},n,{width:"100%",ref:t,className:z("chakra-tabs__tab-panels",e.className),__css:a.tabpanels}))});const Ge=(e=0,t=100)=>{const[n,a]=X.useState(0),r=()=>{a(u=>u===0?e-1:u-1)},s=()=>{a(u=>u===e-1?0:u+1)},i=()=>{a(0)},c={transition:"all .5s",marginStart:`-${n*t}%`};return{prevSlide:r,nextSlide:s,carouselStyle:c,goToStart:i}},Je=e=>{const t=l.useRef();return l.useEffect(()=>{var a;const n=(a=t==null?void 0:t.current)==null?void 0:a.querySelector("[role=tab][aria-selected=true]");n==null||n.scrollIntoView({block:"nearest"})},[e]),t},Qe=e=>{window.location.hash=e},Ze=(e,t)=>{const n=[],a=[];return e!=null&&e.length?((e==null?void 0:e.length)>6&&console.warn("NYPL Reservoir Tabs: it is recommended to use no more than six tabs. If more than six tabs are needed, consider other navigational patterns."),e.forEach((r,s)=>{let i;const c=S(Xe,{fontSize:{base:"mobile.subtitle.subtitle1",md:"desktop.subtitle.subtitle1"},onClick:t?()=>Qe(`tab${s+1}`):void 0,children:r.label},s);typeof r.content=="string"?i=S(ae,{dangerouslySetInnerHTML:{__html:r.content}},s):i=S(ae,{children:r.content},s),n.push(c),a.push(i)}),{tabs:[S(le,{children:n},"list")],panels:[S(ce,{children:a},"panels")]}):{tabs:[],panels:[]}},ea=e=>{const t=[],n=[];return e!=null&&e.length?(e.forEach(a=>{(a.type===le||a.props.mdxType==="TabList")&&(t.push(a),X.Children.count(a.props.children)>6&&console.warn("NYPL Reservoir Tabs: It is recommended to use no more than six tabs. If more than six tabs are needed, consider other navigational patterns.")),(a.type===ce||a.props.mdxType==="TabPanels")&&n.push(a)}),{tabs:t,panels:n}):{tabs:[],panels:[]}},te=L(l.forwardRef((e,t)=>{var E,O;const{children:n,defaultIndex:a=0,id:r,onChange:s,tabsData:i,useHash:c=!1,...u}=e,[v,b]=l.useState(a),d=re("Tabs",{}),y=65,m=40,{isLargerThanSmall:C,isLargerThanMobile:x}=me(),g=C?y:m,{tabs:T,panels:_}=i?Ze(i,c):ea(n);(T.length===0||_.length===0)&&console.warn("NYPL Reservoir Tabs: Pass data in the `contentData` props or as children.");const f=T[0]?(E=T[0])==null?void 0:E.props:T.props,{prevSlide:k,nextSlide:h,carouselStyle:P,goToStart:w}=Ge((O=f==null?void 0:f.children)==null?void 0:O.length,g);X.useEffect(()=>{x&&w()},[w,x]);const D=S(Q,{"aria-label":"Scroll tabs left",id:`tabs-previous-${r}`,onClick:k,__css:{...d.buttonArrows,left:"0"},children:S(Z,{iconRotation:"rotate90",id:`tabs-previous-icon-${r}`,name:"arrow",size:"small",title:"previous arrow"})}),A=S(Q,{"aria-label":"Scroll tabs right",id:`tabs-next-${r}`,onClick:h,__css:{...d.buttonArrows,right:"0"},children:S(Z,{iconRotation:"rotate270",id:`tabs-next-icon-${r}`,name:"arrow",size:"small",title:"next arrow"})});n&&(i!=null&&i.length)&&console.warn("NYPL Reservoir Tabs: Only pass children or data in the `contentData` prop. Do not pass both.");const j=Je(v);return J(Ye,{defaultIndex:a,id:r,isLazy:!0,onChange:M=>{s!==void 0&&s(M),b(M)},ref:t,variant:"enclosed",...u,children:[J(q,{__css:d.tablistWrapper,sx:{"&::-webkit-scrollbar":{display:"none"}},children:[D,S(q,{__css:d.carouselParent,children:S(q,{...P,ref:j,children:T})}),A]}),_]})}));try{te.displayName="Tabs",te.__docgenInfo={description:"Renders Chakra's `Tab` component with specific variants, props,\nand controlled styling.",displayName:"Tabs",props:{id:{defaultValue:null,description:"ID that other components can cross reference for accessibility purposes",name:"id",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"The callback function invoked on every tab change event.",name:"onChange",required:!1,type:{name:"(index: number) => any"}},defaultIndex:{defaultValue:null,description:"The index of the tab to display for controlled situations.",name:"defaultIndex",required:!1,type:{name:"number"}},tabsData:{defaultValue:null,description:"Array of data to display",name:"tabsData",required:!1,type:{name:"TabsDataProps[]"}},useHash:{defaultValue:null,description:"Render a hash in the url for each tab. Only available when data is\npassed through the `data` props.",name:"useHash",required:!1,type:{name:"boolean"}}}}}catch{}export{te as T,le as a,Xe as b,ce as c,ae as d};
//# sourceMappingURL=Tabs-1fbcb425.js.map
